Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),b="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=b.length;return function(e){if("object"!==typeof e&&"function"!==typeof e||null===e)throw new TypeError("Object.keys called on non-object");var h=[],g;for(g in e)a.call(e,g)&&h.push(g);if(c)for(g=0;g<d;g++)a.call(e,b[g])&&h.push(b[g]);return h}}());
Array.prototype.forEach||(Array.prototype.forEach=function(a,c){var b,d;if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),h=e.length>>>0;if("[object Function]"!=={}.toString.call(a))throw new TypeError(a+" is not a function");c&&(b=c);for(d=0;d<h;){var g;Object.prototype.hasOwnProperty.call(e,d)&&(g=e[d],a.call(b,g,d,e));d++}});
Array.prototype.map||(Array.prototype.map=function(a,c){var b,d,e;if(null==this)throw new TypeError(" this is null or not defined");var h=Object(this),g=h.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");c&&(b=c);d=Array(g);for(e=0;e<g;){var p;e in h&&(p=h[e],p=a.call(b,p,e,h),d[e]=p);e++}return d});
Array.prototype.reduce||(Array.prototype.reduce=function(a){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var c=0,b=this.length>>0,d;if("function"!==typeof a)throw new TypeError("First argument is not callable");if(2>arguments.length){if(0===b)throw new TypeError("Array length is 0 and no second argument");d=this[0];c=1}else d=arguments[1];for(;c<b;)c in this&&(d=a.call(void 0,d,this[c],c,this)),++c;return d});Beetny={emptyFunc:function(){},reorderArray:function(a,c){if(!c)return a;for(var b=[],d=0;d<a.length;d++){var e=c[d];null==e&&(e=d);b[e]=a[d]}return b},getUrlParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)").exec(window.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},repeatChar:function(a,c){for(var b="",d=0;d<c;d++)b+=a;return b}};
Object.size=function(a){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c};Object.values=function(a){return Object.keys(a).map(function(c){return a[c]},this)};Object.items=function(a){return Object.keys(a).map(function(c){return{key:c,value:a[c]}},this)};Object.iterItems=function(a,c,b){Object.items(a).forEach(function(d){c.apply(b||a,[d.key,d.value])})};Array.prototype.trueForAll=function(){if(0===this.length)return!1;for(var a=0;a<this.length;++a)if(!this[a])return!1;return!0};
Array.prototype.sum=function(){for(var a=0,c=0;a<this.length;c+=this[a++]);return c};Array.prototype.collateAdjacentDuplicates=function(){for(var a=0;a<this.length;++a){for(var c=this[a],b=0,d=1;a+d<this.length&&this[a+d]===c;++d)++b;for(d=0;d<b;++d)this[a]+=c;this.splice(a+1,b)}return this};window.namespace=function(){for(var a=arguments,c=window,b=0,d=0,e=null,h=null,b=0;b<a.length;b+=1)for(e=a[b].split("."),d=0;d<e.length;d+=1)h=e[d],c[h]=c[h]||{},c=c[h];return c};
(function(a){a.fn.disableSelection=function(){return this.each(function(){a(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none","-ms-user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}})(jQuery);
(function(){var a=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(b){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var h=new this;a=!1;for(var g in b)h[g]="function"==typeof b[g]&&"function"==typeof e[g]&&c.test(b[g])?function(b,a){return function(){var c=this._super;this._super=e[b];var d=a.apply(this,arguments);this._super=c;return d}}(g,b[g]):b[g];d.prototype=h;d.prototype.constructor=d;d.extend=arguments.callee;
return d}})();namespace("Beetny.EQ2AA");Beetny.EQ2AA.Constants={};Beetny.EQ2AA.Constants.TreeIdTabOrder=[4,0,1,2,3,5,6];Beetny.EQ2AA.Constants.ClassNames={0:"Assassin",1:"Berserker",2:"Brigand",3:"Bruiser",4:"Coercer",5:"Conjuror",6:"Defiler",7:"Dirge",8:"Fury",9:"Guardian",10:"Illusionist",11:"Inquisitor",12:"Monk",13:"Mystic",14:"Necromancer",15:"Paladin",16:"Ranger",17:"Shadowknight",18:"Swashbuckler",19:"Templar",20:"Troubador",21:"Warden",22:"Warlock",23:"Wizard",24:"Beastlord"};
Beetny.EQ2AA.Constants.TreeTypes={0:"Archetype",1:"Class",2:"Shadows",3:"Heroic",4:"Tradeskill",5:"Prestige",6:"TradeskillPrestige"};Beetny.EQ2AA.Constants.TreeIds={Archetype:0,Class:1,Shadows:2,Heroic:3,Tradeskill:4,Prestige:5,TradeskillPrestige:6};namespace("Beetny.EQ2AA");Beetny.EQ2AA.GameVersions={LatestUpdate:"GU65"};namespace("Beetny.EQ2AA");
Beetny.EQ2AA.Main=function(a,c,b,d){function e(b){$("#class-list .selected").removeClass("selected");$("#class-list li").filter(function(){return $(this).text()===b}).addClass("selected")}function h(b){b=new Beetny.EQ2AA.AATreeViewer(b,c);b.render("#content");return b}var g=null,p=$("#content");(function(){function b(c){return function(b){b=$(b.target);e(b.text());b=Beetny.EQ2AA.Constants.ClassNames[c];$(".tree-viewer").hide();$("#content .error").remove();b=$(".tree-viewer."+b);0<b.length?(g=b.data("viewer"),
g.fullRefresh(),b.show()):(b=a.loadClass(c),g=h(b),g.selectTree(b.trees[0]))}}var c=$("#class-list");Object.iterItems(Beetny.EQ2AA.Constants.ClassNames,function(a,d){var e='\x3cli\x3e\x3ca href\x3d"javascript:;"\x3e{Name}\x3c/a\x3e\x3c/li\x3e'.replace("{Name}",d);$(e).on("click",b(a)).appendTo(c)});$("#class-list li:eq(1)").before($("#class-list li:last"))})();(function(){Beetny.EQ2AA.AATreeViewerCommands.forEach(function(b){b.render().on("click",function(){g&&b.execute(g)}).appendTo("#commands")})})();
(function(){$("#character-search").autocomplete({source:function(b,a){$.ajax({url:"http://data.soe.com/json/get/eq2/character/",dataType:"jsonp",data:{"c:limit":10,displayname:"/"+b.term,"c:show":"id,displayname"},success:function(b){a(b.character_list.map(function(b){return{label:b.displayname,value:b.id}}))}})},minLength:2,select:function(b,a){window.location="http://beetny.com/eq2aa/character/"+a.item.value;return!1},open:function(){$(this).removeClass("ui-corner-all").addClass("ui-corner-top")},
close:function(){$(this).removeClass("ui-corner-top").addClass("ui-corner-all")}})})();d&&0<d.length&&(b=b.importClassFromHash(d),b.errorMessage?(b='\x3cdiv class\x3d"error"\x3e{Message}\x3c/div\x3e'.replace("{Message}",b.errorMessage),$(b).appendTo(p)):(e(b.classObj.name),g=h(b.classObj),g.selectTree(b.classObj.trees[0]),g.updateHash()))};$(function(){var a="";window.location.hash?a=window.location.hash.slice(1):window.location.search&&(a=window.location.search.slice(1));var c=new Beetny.EQ2AA.ClassLoader("js/trees/"),b=new Beetny.EQ2AA.Importer(c);elementBuilder=new Beetny.EQ2AA.Rendering.ElementBuilder("css/icons/");graphicsRenderer=new Beetny.EQ2AA.Rendering.RaphaelRenderer;renderer=new Beetny.EQ2AA.Rendering.Renderer(graphicsRenderer,elementBuilder);Beetny.EQ2AA.Main.apply(Beetny.EQ2AA,[c,renderer,b,a])});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),b="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=b.length;return function(e){if("object"!==typeof e&&"function"!==typeof e||null===e)throw new TypeError("Object.keys called on non-object");var h=[],g;for(g in e)a.call(e,g)&&h.push(g);if(c)for(g=0;g<d;g++)a.call(e,b[g])&&h.push(b[g]);return h}}());
Array.prototype.forEach||(Array.prototype.forEach=function(a,c){var b,d;if(null==this)throw new TypeError("this is null or not defined");var e=Object(this),h=e.length>>>0;if("[object Function]"!=={}.toString.call(a))throw new TypeError(a+" is not a function");c&&(b=c);for(d=0;d<h;){var g;Object.prototype.hasOwnProperty.call(e,d)&&(g=e[d],a.call(b,g,d,e));d++}});
Array.prototype.map||(Array.prototype.map=function(a,c){var b,d,e;if(null==this)throw new TypeError(" this is null or not defined");var h=Object(this),g=h.length>>>0;if("function"!==typeof a)throw new TypeError(a+" is not a function");c&&(b=c);d=Array(g);for(e=0;e<g;){var p;e in h&&(p=h[e],p=a.call(b,p,e,h),d[e]=p);e++}return d});
Array.prototype.reduce||(Array.prototype.reduce=function(a){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var c=0,b=this.length>>0,d;if("function"!==typeof a)throw new TypeError("First argument is not callable");if(2>arguments.length){if(0===b)throw new TypeError("Array length is 0 and no second argument");d=this[0];c=1}else d=arguments[1];for(;c<b;)c in this&&(d=a.call(void 0,d,this[c],c,this)),++c;return d});
Beetny={emptyFunc:function(){},reorderArray:function(a,c){if(!c)return a;for(var b=[],d=0;d<a.length;d++){var e=c[d];null==e&&(e=d);b[e]=a[d]}return b},getUrlParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)").exec(window.location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},repeatChar:function(a,c){for(var b="",d=0;d<c;d++)b+=a;return b}};
Object.size=function(a){var c=0,b;for(b in a)a.hasOwnProperty(b)&&c++;return c};Object.values=function(a){return Object.keys(a).map(function(c){return a[c]},this)};Object.items=function(a){return Object.keys(a).map(function(c){return{key:c,value:a[c]}},this)};Object.iterItems=function(a,c,b){Object.items(a).forEach(function(d){c.apply(b||a,[d.key,d.value])})};Array.prototype.trueForAll=function(){if(0===this.length)return!1;for(var a=0;a<this.length;++a)if(!this[a])return!1;return!0};
Array.prototype.sum=function(){for(var a=0,c=0;a<this.length;c+=this[a++]);return c};Array.prototype.collateAdjacentDuplicates=function(){for(var a=0;a<this.length;++a){for(var c=this[a],b=0,d=1;a+d<this.length&&this[a+d]===c;++d)++b;for(d=0;d<b;++d)this[a]+=c;this.splice(a+1,b)}return this};window.namespace=function(){for(var a=arguments,c=window,b=0,d=0,e=null,h=null,b=0;b<a.length;b+=1)for(e=a[b].split("."),d=0;d<e.length;d+=1)h=e[d],c[h]=c[h]||{},c=c[h];return c};
(function(a){a.fn.disableSelection=function(){return this.each(function(){a(this).attr("unselectable","on").css({"-moz-user-select":"none","-webkit-user-select":"none","user-select":"none","-ms-user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})}})(jQuery);
(function(){var a=!1,c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(b){function d(){!a&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;a=!0;var h=new this;a=!1;for(var g in b)h[g]="function"==typeof b[g]&&"function"==typeof e[g]&&c.test(b[g])?function(b,a){return function(){var c=this._super;this._super=e[b];var d=a.apply(this,arguments);this._super=c;return d}}(g,b[g]):b[g];d.prototype=h;d.prototype.constructor=d;d.extend=arguments.callee;
return d}})();namespace("Beetny.EQ2AA");Beetny.EQ2AA.GameVersions={LatestUpdate:"GU65"};namespace("Beetny.EQ2AA");Beetny.EQ2AA.Constants={};Beetny.EQ2AA.Constants.TreeIdTabOrder=[4,0,1,2,3,5,6];
Beetny.EQ2AA.Constants.ClassNames={0:"Assassin",1:"Berserker",2:"Brigand",3:"Bruiser",4:"Coercer",5:"Conjuror",6:"Defiler",7:"Dirge",8:"Fury",9:"Guardian",10:"Illusionist",11:"Inquisitor",12:"Monk",13:"Mystic",14:"Necromancer",15:"Paladin",16:"Ranger",17:"Shadowknight",18:"Swashbuckler",19:"Templar",20:"Troubador",21:"Warden",22:"Warlock",23:"Wizard",24:"Beastlord"};Beetny.EQ2AA.Constants.TreeTypes={0:"Archetype",1:"Class",2:"Shadows",3:"Heroic",4:"Tradeskill",5:"Prestige",6:"TradeskillPrestige"};
Beetny.EQ2AA.Constants.TreeIds={Archetype:0,Class:1,Shadows:2,Heroic:3,Tradeskill:4,Prestige:5,TradeskillPrestige:6};namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.AA=Class.extend({init:function(a,c){$.extend(this,a);this.tree=c},getEffectForLevel:function(a){return 1>a||a>this.max_level?null:this.effects[a-1]},remainingLevels:function(){return this.max_level-this.level},hasBackdrop:function(){return-1<this.icon.backdrop},hasParent:function(){return-1<this.parent_id},parent:function(){return-1<this.parent_id?this.tree.aa[this.parent_id]:null},parentSubtreeName:function(){return this.tree.getParentSubtreeName(this.subclass)},prerequisiteHandlers:{global:function(a){var c=
this.tree.getGlobalPointsSpent(),c=c-this.level*this.cost;return c>=a},tree:function(a){var c=this.tree.getTotalPointsSpent(),c=c-this.level*this.cost;return c>=a},parent_subtree:function(a){return this.tree.subtrees[this.tree.getParentSubtreeName(this.subclass)]>=a},subtree:function(a){var c=this.tree.subtrees[this.subclass],c=c-this.level*this.cost;return this.subclass===this.tree.y_subclass?this.tree.calculateDerivedPoints()-c>=a:c>=a},parent:function(a){return this.parent().level>=a}},satisfiesPrerequisites:function(){var a=
!0;if(0===this.level&&this.tree.getAvailablePoints()<this.cost)return!1;Object.iterItems(this.prereqs,function(c,b){return 0===b?!0:a=this.prerequisiteHandlers[c].call(this,b)},this);return a},spendPoints:function(a){if(0===a)return 0;var c=this.level;a=this.level+a;this.level=a=Math.max(0,Math.min(a,this.max_level));c=(a-c)*this.cost;this.tree.notifyPointsSpentInSubtree(this.subclass,c);return c}});namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.Tree=Class.extend({init:function(a,c){$.extend(this,a);this.parentClass=c;this.aa.forEach(function(b,a){this.aa[a]=new Beetny.EQ2AA.Model.AA(b,this)},this)},getGlobalPointsSpent:function(){return this.parentClass.points.AA.spent},getParentSubtreeName:function(a){switch(a){case this.parentClass.name:return this.parentClass.lineage.archetype;case this.parentClass.lineage.archetype:return this.parentClass.lineage.family;case this.parentClass.lineage.family:return"General"}return null},
getTotalPointsSpent:function(){return Object.values(this.subtrees).reduce(function(a,c){return a+c},0)},getAvailablePoints:function(){var a=this.parentClass.getAvailablePoints(this),c=this.max_points-this.getTotalPointsSpent();return Math.min(c,a)},spendPoints:function(a,c){var b=0;0<c?(c=Math.min(c,Math.floor(this.getAvailablePoints()/a.cost)),b=a.spendPoints(c)):0>c&&(b=a.spendPoints(c),this.reclaimIllegalPoints());return b},notifyPointsSpentInSubtree:function(a,c){this.subtrees[a]+=c;this.parentClass.notifyPointsSpentInTree(this,
c)},reclaimIllegalPoints:function(){function a(b){if(0<b.level&&!b.satisfiesPrerequisites()){var a=-b.level*b.cost;b.level=0;this.notifyPointsSpentInSubtree(b.subclass,a)}}var c=[];this.aa.forEach(function(b){var d=this.aa[b.parent_id];d&&a.call(this,d);if(b.subclass===this.y_subclass)return c.push(b),!0;a.call(this,b)},this);c.map(a,this)},calculateDerivedPoints:function(){var a=0;0<this.x_y_ratio&&(a=Math.floor(this.subtrees[this.x_subclass]/this.x_y_ratio));return a},reset:function(){this.aa.forEach(function(a){a.level=
0});var a=this.getTotalPointsSpent();Object.keys(this.subtrees).forEach(function(a){this.subtrees[a]=0},this);this.parentClass.notifyPointsSpentInTree(this,-a)},createHash:function(){var a="";if(0===this.aa.length||0===this.getTotalPointsSpent())return a;var a=a+(Beetny.EQ2AA.Model.Tree.TreeHashToken+this.id.toString(36)),c=this.aa.map(function(b){return b.level.toString(36)}).collateAdjacentDuplicates();-1<c[c.length-1].indexOf("0")&&c.pop();for(var b=0;b<c.length;++b){var d=c[b].charAt(0);3<=c[b].length&&
(c[b]=d+Beetny.EQ2AA.Model.Tree.RepeatHashToken+c[b].length.toString(36))}return a+=c.join("")},loadHash:function(a){for(var c=0;0<a.length&&a.charAt(0)!==Beetny.EQ2AA.Model.Tree.TreeHashToken;){var b=parseInt(a.charAt(0),36),d=0,e;a.charAt(1)===Beetny.EQ2AA.Model.Tree.RepeatHashToken?(d=parseInt(a.charAt(2),36),e=3):d=e=1;for(var h=0;h<d;++h,++c){var g=this.aa[c];g&&(g.level=b,this.notifyPointsSpentInSubtree(g.subclass,g.level*g.cost))}a=a.slice(e)}}});Beetny.EQ2AA.Model.Tree.TreeHashToken="t";
Beetny.EQ2AA.Model.Tree.RepeatHashToken="@";namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.Class=Class.extend({init:function(a){$.extend(!0,this,a);this.trees.forEach(function(a,b){this.trees[b]=new Beetny.EQ2AA.Model.Tree(a,this)},this);Object.iterItems(this.points,function(a,b){this.points[a]=b.child_pools?new Beetny.EQ2AA.Model.CompositePointPool(b):new Beetny.EQ2AA.Model.PointPool(b)},this)},getOrderedPointPools:function(){return this.ordered_point_pools.map(function(a){return this.points[a]},this)},getTreePointPool:function(a){return"Warder"===a.type?this.points[a.type].child_pools[a.name.replace(" ",
"")]:this.points[a.type]||this.points.AA},notifyPointsSpentInTree:function(a,c){this.getTreePointPool(a).spent+=c},getAvailablePoints:function(a){a=this.getTreePointPool(a);return a.max-a.spent},reset:function(){this.trees.forEach(function(a){a.reset()})},loadHash:function(a){for(var c=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken);-1!==c;){var b=a.slice(c),d=parseInt(b.charAt(1),36);(d=this.trees[d])&&d.loadHash(b.slice(2));c=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken,c+1)}return{success:!0,
errorMessage:""}},createHash:function(){var a="";if(0===Object.size(this.trees))return a;a+=this.id.toString(36);return a+=this.trees.reduce(function(a,b){return a+b.createHash()},"")}});namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.PointPool=Class.extend({init:function(a){$.extend(this,a);this.spent=0},type:function(){return this.name.replace(" ","")},html:function(){return'\x3cli\x3e\x3clabel class\x3d"{Type}"\x3e{Label}:\x3cspan class\x3d"spent"\x3e{NumSpent}\x3c/span\x3e/\x3cspan class\x3d"max"\x3e{Max}\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e'.replace("{Type}",this.type()).replace("{Label}",this.name).replace("{NumSpent}",this.spent).replace("{Max}",this.max)}});
Beetny.EQ2AA.Model.CompositePointPool=Class.extend({init:function(a){$.extend(this,a);Object.iterItems(this.child_pools,function(a,b){this.child_pools[a]=new Beetny.EQ2AA.Model.PointPool(b)},this)},type:function(){return this.name.replace(" ","")},orderedChildPools:function(){return Object.keys(this.child_pools).sort().map(function(a){return this.child_pools[a]},this)},html:function(){var a="\x3cli\x3e\x3cul\x3e\x3clabel\x3e{Name}:\x3c/label\x3e".replace("{Name}",this.name),a=a+this.orderedChildPools().reduce(function(a,
b){return a+b.html()},"");return a+"\x3c/ul\x3e\x3c/li\x3e"}});namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo={GU60:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},1:{Name:"Berserker",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2,4:5},{28:2,29:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,30:2},{28:2,29:2}]},3:{Name:"Bruiser",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{8:3,13:2,30:2,7:3},{28:2,29:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{2:2,17:3,18:3,20:3,25:5,31:2},{28:2,29:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:2,9:2,35:2,14:3,31:5},{17:5,19:5,28:2,29:2}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2,11:5},{28:2,29:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{33:2},{28:2,29:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{13:3,31:2},{28:2,29:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:2,33:2,21:2,22:5},{28:2,29:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{8:3,32:2},{28:2,29:2}]},13:{Name:"Mystic",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{33:2},{28:2,29:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,
26:2},{32:5,33:2,11:2,29:5,22:3},{17:5,19:5,28:2,29:2}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2},{28:2,29:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,29:2},{28:2,29:2}]},18:{Name:"Swashbuckler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},
{32:2,4:3,6:2},{28:2,29:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:2,35:2},{28:2,29:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{33:2},{28:2,29:2}]}},GU61:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},1:{Name:"Berserker",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:5,31:2},{26:2,27:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:3,31:2},{26:2,27:2}]},3:{Name:"Bruiser",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{10:3,18:3,6:2,31:2},{26:2,27:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,14:3,19:3,20:3,25:5,31:2},{26:2,27:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{9:2,18:3,27:5,5:2,31:2},{17:5,26:2,27:2,
15:5}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:5,31:2},{26:2,27:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,31:2},{26:2,27:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,
8:2,12:2,16:2,20:2,26:2},{18:2,19:5,14:2,31:2},{26:2,27:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{31:2},{26:2,27:2}]},13:{Name:"Mystic",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2,27:5,30:5,6:2,15:3},{17:5,26:2,27:2,15:5}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,
8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{14:2,31:2},{26:2,27:2}]},18:{Name:"Swashbuckler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:3,18:2,31:2},{26:2,27:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},
{31:2},{26:2,27:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{6:2,31:2},{26:2,27:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]}},GU62:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},1:{Name:"Berserker",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:5,31:2},{26:2,27:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:3,31:2},{26:2,27:2}]},3:{Name:"Bruiser",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{10:3,18:3,6:2,31:2},{26:2,27:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,14:3,19:3,20:3,25:5,31:2},{26:2,27:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{9:2,18:3,27:5,5:2,31:2},{17:5,26:2,27:2,15:5}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},
8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:5,31:2},{26:2,27:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,31:2},{26:2,27:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:2,19:5,14:2,31:2},{26:2,27:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{31:2},{26:2,27:2}]},13:{Name:"Mystic",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2,27:5,30:5,6:2,15:3},{17:5,26:2,27:2,15:5}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{14:2,31:2},{26:2,27:2}]},18:{Name:"Swashbuckler",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:3,18:2,31:2},{26:2,27:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{6:2,31:2},{26:2,27:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{31:2},{26:2,27:2}]},24:{Name:"Beastlord",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]}}};Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo.getPointCost=function(a,c,b,d){var e=1;if(a=Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo[a])if(c=a[c])if(b=c.CostsGreaterThanOne[b])d=b[d],null!=d&&(e=d);return e};namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.HashIdRemapper=Class.extend({remapHashIds:function(a,c){var b=this._getRemapsForVersion(c);if(!b)return a;for(var d="",e=[],h=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken);-1<h;)e.push(h),h=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken,h+1);0<e.length&&(d=a.slice(0,e[0]));for(var h=[],g=0;g<e.length;g++){var p=a.slice(e[g],e[g+1]||Infinity),fa=p[1],p=p.slice(2).split(""),p=Beetny.reorderArray(p,b[fa]);h.push(Beetny.EQ2AA.Model.Tree.TreeHashToken+fa+p.join(""))}return d+=
h.join("")},_getRemapsForVersion:function(a){if("GU60"===a||"GU61"===a||"GU62"===a)return this._preGU63AAIdRemaps;if("GU63"===a)return this._gu63ToGu65AAIdRemaps},_preGU63AAIdRemaps:{0:{2:6,3:11,4:16,5:2,6:7,7:12,8:17,9:3,10:8,11:13,12:18,13:4,14:9,15:14,16:19,17:5,18:10,19:15}},_gu63ToGu65AAIdRemaps:{5:{0:1,1:2,2:0,4:5,5:6,6:4}}});namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.HashUpgrader=Class.extend({init:function(a){this._idRemapper=a},upgradeHash:function(a){var c=Beetny.EQ2AA.HashInfo.parseHash(a).version;if("GU60"===c||"GU61"===c||"GU62"===c)a=this._preGU63toGU63HashFormat(a,c),a=this._idRemapper.remapHashIds(a,c),c="GU63";"GU63"===c&&(a=this._idRemapper.remapHashIds(a,c),a=this._changeHashVersion(a,"GU65"));return a},_changeHashVersion:function(a,c){var b=Beetny.EQ2AA.HashInfo.parseHash(a);b.version=c;return b.toHash()},_preGU63toGU63HashFormat:function(a,
c){var b="";if(0<a.length)for(var d=Beetny.EQ2AA.HashInfo.parseHash(a),e=d.classId,b=b+("GU63;"+e.toString(36)),d=d.treeHashes,h=0;h<d.length;){for(var g=d.slice(h),p=parseInt(g.charAt(0),36),fa=parseInt(g.slice(1,3),36),g=g.slice(3),h=h+3,b=b+(Beetny.EQ2AA.Model.Tree.TreeHashToken+p.toString(36)),ga=0,J=0,Z=0;ga<fa&&J<g.length;){var M=g[J];if(M===Beetny.EQ2AA.Model.Tree.RepeatHashToken)M=parseInt(g[J+1],36),Z+=M,J+=2,b+=Beetny.repeatChar("0",M);else{var A=parseInt(M,36),K=Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo.getPointCost(c,
e,p,Z),ga=ga+A*K;++J;++Z;b+=M}}h+=J}return b}});namespace("Beetny.EQ2AA");Beetny.EQ2AA.HashInfo=Class.extend({init:function(a,c,b){this.version=a;this.classId=c;this.treeHashes=b},toHash:function(){return this.version+";"+this.classId.toString(36)+this.treeHashes}});Beetny.EQ2AA.HashInfo.parseHash=function(a){var c;0===a.search(/(GU\d+);/)?(c=a.substr(0,4),a=a.slice(5)):c="GU60";var b=parseInt(a.charAt(0),36);a=a.slice(1);return new Beetny.EQ2AA.HashInfo(c,b,a)};namespace("Beetny.EQ2AA");
Beetny.EQ2AA.Importer=Class.extend({init:function(a){this._classLoader=a},importClassFromHash:function(a){var c=new Beetny.EQ2AA.ImportResult(null,"");if(!a)return c;try{var b=new Beetny.EQ2AA.BackwardsCompatibility.HashIdRemapper,d=(new Beetny.EQ2AA.BackwardsCompatibility.HashUpgrader(b)).upgradeHash(a),e=Beetny.EQ2AA.HashInfo.parseHash(d),h=this._classLoader.loadClass(e.classId);h.loadHash(e.treeHashes);c.classObj=h}catch(g){console&&console.log&&console.log("Import error: exception message \x3d "+
g.message),c.errorMessage="An error occurred during import."}return c}});Beetny.EQ2AA.ImportResult=Class.extend({init:function(a,c){this.classObj=a||null;this.errorMessage=c||""}});namespace("Beetny.EQ2AA");
Beetny.EQ2AA.ClassLoader=Class.extend({init:function(a){this._treeDir=a;"/"!==this._treeDir.charAt(this._treeDir.length-1)&&(this._treeDir+="/");this._classObjCache={}},loadClass:function(a){if(void 0==a)return null;var c=this,b=Beetny.EQ2AA.Constants.ClassNames[a],d=this._classObjCache[a];d||$.ajax({url:this._treeDir+b+".json",dataType:"json",async:!1,success:function(b){c._classObjCache[a]=d=new Beetny.EQ2AA.Model.Class(b)}});return d}});namespace("Beetny.EQ2AA");
Beetny.EQ2AA.ClassPrinter=Class.extend({print:function(a,c){function b(b){d="";if(b){var a=b.getTotalPointsSpent();d+="\x3ch3\x3e{TreeName} ({Points} {PointsWord})\x3c/h3\x3e".replace("{TreeName}",b.name).replace("{Points}",a).replace("{PointsWord}",1===a?"point":"points");b.aa.forEach(function(b){if(0===b.level)return!0;d+='\x3cblockquote\x3e\x3cstrong class\x3d"aa-name"\x3e{AAName}\x3c/strong\x3e\x3cspan class\x3d"aa-rank"\x3e - Rank {Current}/{Max}\x3c/span\x3e\x3cdiv class\x3d"aa-description"\x3e{Description}\x3c/div\x3e{Effects}\x3c/blockquote\x3e'.replace("{AAName}",
b.name).replace("{Current}",b.level).replace("{Max}",b.max_level).replace("{Description}",b.description).replace("{Effects}",b.getEffectForLevel(b.level))})}return d}var d="",e=$("title").text();$("title").text(e.replace("{ClassName}",a.name));d+="\x3ch2\x3e{ClassName}\x3c/h2\x3e".replace("{ClassName}",a.name);for(e=0;e<a.trees.length;e++)d+=b(a.trees[e]);c.html(d)}});
$(function(){var a=Beetny.getUrlParameterByName("build");if(0<a.length){var c=new Beetny.EQ2AA.ClassLoader("js/trees/"),a=(new Beetny.EQ2AA.Importer(c)).importClassFromHash(a);a.classObj&&(new Beetny.EQ2AA.ClassPrinter).print(a.classObj,$("body"))}});namespace("Beetny.EQ2AA");Beetny.EQ2AA.Exporter=Class.extend({init:function(a){this._version=a||Beetny.EQ2AA.GameVersions.LatestUpdate},exportClass:function(a){return this._version+";"+a.createHash()}});namespace("Beetny.EQ2AA");Beetny.EQ2AA.ClassLoader=Class.extend({init:function(a){this._treeDir=a;"/"!==this._treeDir.charAt(this._treeDir.length-1)&&(this._treeDir+="/");this._classObjCache={}},loadClass:function(a){if(void 0==a)return null;var c=this,b=Beetny.EQ2AA.Constants.ClassNames[a],d=this._classObjCache[a];d||$.ajax({url:this._treeDir+b+".json",dataType:"json",async:!1,success:function(b){c._classObjCache[a]=d=new Beetny.EQ2AA.Model.Class(b)}});return d}});namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.HashIdRemapper=Class.extend({remapHashIds:function(a,c){var b=this._getRemapsForVersion(c);if(!b)return a;for(var d="",e=[],h=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken);-1<h;)e.push(h),h=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken,h+1);0<e.length&&(d=a.slice(0,e[0]));for(var h=[],g=0;g<e.length;g++){var p=a.slice(e[g],e[g+1]||Infinity),fa=p[1],p=p.slice(2).split(""),p=Beetny.reorderArray(p,b[fa]);h.push(Beetny.EQ2AA.Model.Tree.TreeHashToken+fa+p.join(""))}return d+=
h.join("")},_getRemapsForVersion:function(a){if("GU60"===a||"GU61"===a||"GU62"===a)return this._preGU63AAIdRemaps;if("GU63"===a)return this._gu63ToGu65AAIdRemaps},_preGU63AAIdRemaps:{0:{2:6,3:11,4:16,5:2,6:7,7:12,8:17,9:3,10:8,11:13,12:18,13:4,14:9,15:14,16:19,17:5,18:10,19:15}},_gu63ToGu65AAIdRemaps:{5:{0:1,1:2,2:0,4:5,5:6,6:4}}});namespace("Beetny.EQ2AA");Beetny.EQ2AA.HashInfo=Class.extend({init:function(a,c,b){this.version=a;this.classId=c;this.treeHashes=b},toHash:function(){return this.version+";"+this.classId.toString(36)+this.treeHashes}});Beetny.EQ2AA.HashInfo.parseHash=function(a){var c;0===a.search(/(GU\d+);/)?(c=a.substr(0,4),a=a.slice(5)):c="GU60";var b=parseInt(a.charAt(0),36);a=a.slice(1);return new Beetny.EQ2AA.HashInfo(c,b,a)};namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.HashUpgrader=Class.extend({init:function(a){this._idRemapper=a},upgradeHash:function(a){var c=Beetny.EQ2AA.HashInfo.parseHash(a).version;if("GU60"===c||"GU61"===c||"GU62"===c)a=this._preGU63toGU63HashFormat(a,c),a=this._idRemapper.remapHashIds(a,c),c="GU63";"GU63"===c&&(a=this._idRemapper.remapHashIds(a,c),a=this._changeHashVersion(a,"GU65"));return a},_changeHashVersion:function(a,c){var b=Beetny.EQ2AA.HashInfo.parseHash(a);b.version=c;return b.toHash()},_preGU63toGU63HashFormat:function(a,
c){var b="";if(0<a.length)for(var d=Beetny.EQ2AA.HashInfo.parseHash(a),e=d.classId,b=b+("GU63;"+e.toString(36)),d=d.treeHashes,h=0;h<d.length;){for(var g=d.slice(h),p=parseInt(g.charAt(0),36),fa=parseInt(g.slice(1,3),36),g=g.slice(3),h=h+3,b=b+(Beetny.EQ2AA.Model.Tree.TreeHashToken+p.toString(36)),ga=0,J=0,Z=0;ga<fa&&J<g.length;){var M=g[J];if(M===Beetny.EQ2AA.Model.Tree.RepeatHashToken)M=parseInt(g[J+1],36),Z+=M,J+=2,b+=Beetny.repeatChar("0",M);else{var A=parseInt(M,36),K=Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo.getPointCost(c,
e,p,Z),ga=ga+A*K;++J;++Z;b+=M}}h+=J}return b}});namespace("Beetny.EQ2AA");
Beetny.EQ2AA.Importer=Class.extend({init:function(a){this._classLoader=a},importClassFromHash:function(a){var c=new Beetny.EQ2AA.ImportResult(null,"");if(!a)return c;try{var b=new Beetny.EQ2AA.BackwardsCompatibility.HashIdRemapper,d=(new Beetny.EQ2AA.BackwardsCompatibility.HashUpgrader(b)).upgradeHash(a),e=Beetny.EQ2AA.HashInfo.parseHash(d),h=this._classLoader.loadClass(e.classId);h.loadHash(e.treeHashes);c.classObj=h}catch(g){console&&console.log&&console.log("Import error: exception message \x3d "+g.message),
c.errorMessage="An error occurred during import."}return c}});Beetny.EQ2AA.ImportResult=Class.extend({init:function(a,c){this.classObj=a||null;this.errorMessage=c||""}});namespace("Beetny.EQ2AA.BackwardsCompatibility");
Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo={GU60:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},1:{Name:"Berserker",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2,4:5},{28:2,29:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,30:2},{28:2,29:2}]},3:{Name:"Bruiser",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{8:3,13:2,30:2,7:3},{28:2,29:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{2:2,17:3,18:3,20:3,25:5,31:2},{28:2,29:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:2,9:2,35:2,14:3,31:5},{17:5,19:5,28:2,29:2}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2,11:5},{28:2,29:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{33:2},{28:2,29:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{13:3,31:2},{28:2,29:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:2,33:2,21:2,22:5},{28:2,29:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{8:3,32:2},{28:2,29:2}]},13:{Name:"Mystic",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{33:2},{28:2,29:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,
26:2},{32:5,33:2,11:2,29:5,22:3},{17:5,19:5,28:2,29:2}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{32:2},{28:2,29:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,29:2},{28:2,29:2}]},18:{Name:"Swashbuckler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},
{32:2,4:3,6:2},{28:2,29:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{28:2,29:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:2,35:2},{28:2,29:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{33:2},{28:2,29:2}]}},GU61:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},1:{Name:"Berserker",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:5,31:2},{26:2,27:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:3,31:2},{26:2,27:2}]},3:{Name:"Bruiser",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{10:3,18:3,6:2,31:2},{26:2,27:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,14:3,19:3,20:3,25:5,31:2},{26:2,27:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{9:2,18:3,27:5,5:2,31:2},{17:5,26:2,27:2,
15:5}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:5,31:2},{26:2,27:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,31:2},{26:2,27:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,
8:2,12:2,16:2,20:2,26:2},{18:2,19:5,14:2,31:2},{26:2,27:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{31:2},{26:2,27:2}]},13:{Name:"Mystic",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2,27:5,30:5,6:2,15:3},{17:5,26:2,27:2,15:5}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,
8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{14:2,31:2},{26:2,27:2}]},18:{Name:"Swashbuckler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:3,18:2,31:2},{26:2,27:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},
{31:2},{26:2,27:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{6:2,31:2},{26:2,27:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]}},GU62:{0:{Name:"Assassin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},1:{Name:"Berserker",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{17:5,31:2},{26:2,27:2}]},2:{Name:"Brigand",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{8:3,31:2},{26:2,27:2}]},3:{Name:"Bruiser",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{10:3,18:3,6:2,31:2},{26:2,27:2}]},4:{Name:"Coercer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{4:2,14:3,19:3,20:3,25:5,31:2},{26:2,27:2}]},5:{Name:"Conjuror",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{9:2,18:3,27:5,5:2,31:2},{17:5,26:2,27:2,15:5}]},6:{Name:"Defiler",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},7:{Name:"Dirge",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},
8:{Name:"Fury",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:5,31:2},{26:2,27:2}]},9:{Name:"Guardian",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},10:{Name:"Illusionist",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:3,31:2},{26:2,27:2}]},11:{Name:"Inquisitor",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{18:2,19:5,14:2,31:2},{26:2,27:2}]},12:{Name:"Monk",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,25:4,26:2},{31:2},{26:2,27:2}]},13:{Name:"Mystic",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},14:{Name:"Necromancer",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2,27:5,30:5,6:2,15:3},{17:5,26:2,27:2,15:5}]},15:{Name:"Paladin",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},16:{Name:"Ranger",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},17:{Name:"Shadowknight",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{14:2,31:2},{26:2,27:2}]},18:{Name:"Swashbuckler",
CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},19:{Name:"Templar",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{16:3,18:2,31:2},{26:2,27:2}]},20:{Name:"Troubador",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},21:{Name:"Warden",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]},22:{Name:"Warlock",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{6:2,31:2},{26:2,27:2}]},23:{Name:"Wizard",CostsGreaterThanOne:[{4:2,8:2,12:2,
16:2,20:2,26:2},{31:2},{26:2,27:2}]},24:{Name:"Beastlord",CostsGreaterThanOne:[{4:2,8:2,12:2,16:2,20:2,26:2},{31:2},{26:2,27:2}]}}};Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo.getPointCost=function(a,c,b,d){var e=1;if(a=Beetny.EQ2AA.BackwardsCompatibility.LegacyTreeInfo[a])if(c=a[c])if(b=c.CostsGreaterThanOne[b])d=b[d],null!=d&&(e=d);return e};!function(a){var c,b,d=/[\.\/]/,e=function(){},h=function(b,a){return b-a},g={n:{}},p=function(a,d){a=String(a);var e,g=b,M=Array.prototype.slice.call(arguments,2),A=p.listeners(a),K=0,G=[],Q={},s=[],na=c;c=a;for(var ha=b=0,Aa=A.length;Aa>ha;ha++)"zIndex"in A[ha]&&(G.push(A[ha].zIndex),0>A[ha].zIndex&&(Q[A[ha].zIndex]=A[ha]));for(G.sort(h);0>G[K];)if(e=Q[G[K++]],s.push(e.apply(d,M)),b)return b=g,s;for(ha=0;Aa>ha;ha++)if(e=A[ha],"zIndex"in e)if(e.zIndex==G[K]){if(s.push(e.apply(d,M)),b)break;do if(K++,
e=Q[G[K]],e&&s.push(e.apply(d,M)),b)break;while(e)}else Q[e.zIndex]=e;else if(s.push(e.apply(d,M)),b)break;return b=g,c=na,s.length?s:null};p._events=g;p.listeners=function(b){var a,c,e,h,p,K,G,Q=b.split(d);a=g;var s=[a],na=[];b=0;for(h=Q.length;h>b;b++){G=[];p=0;for(K=s.length;K>p;p++)for(a=s[p].n,c=[a[Q[b]],a["*"]],e=2;e--;)(a=c[e])&&(G.push(a),na=na.concat(a.f||[]));s=G}return na};p.on=function(b,a){if(b=String(b),"function"!=typeof a)return function(){};for(var c=b.split(d),h=g,p=0,A=c.length;A>
p;p++)h=h.n,h=h.hasOwnProperty(c[p])&&h[c[p]]||(h[c[p]]={n:{}});h.f=h.f||[];p=0;for(A=h.f.length;A>p;p++)if(h.f[p]==a)return e;return h.f.push(a),function(b){+b==+b&&(a.zIndex=+b)}};p.f=function(b){var a=[].slice.call(arguments,1);return function(){p.apply(null,[b,null].concat(a).concat([].slice.call(arguments,0)))}};p.stop=function(){b=1};p.nt=function(b){return b?RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)").test(c):c};p.nts=function(){return c.split(d)};p.off=p.unbind=function(b,a){if(!b)return p._events=
g={n:{}},void 0;var c,e,h,A,K,G,Q=b.split(d),s=[g];A=0;for(K=Q.length;K>A;A++)for(G=0;G<s.length;G+=h.length-2){if(h=[G,1],c=s[G].n,"*"!=Q[A])c[Q[A]]&&h.push(c[Q[A]]);else for(e in c)c.hasOwnProperty(e)&&h.push(c[e]);s.splice.apply(s,h)}A=0;for(K=s.length;K>A;A++)for(c=s[A];c.n;){if(a){if(c.f){G=0;for(h=c.f.length;h>G;G++)if(c.f[G]==a){c.f.splice(G,1);break}!c.f.length&&delete c.f}for(e in c.n)if(c.n.hasOwnProperty(e)&&c.n[e].f){Q=c.n[e].f;G=0;for(h=Q.length;h>G;G++)if(Q[G]==a){Q.splice(G,1);break}!Q.length&&
delete c.n[e].f}}else for(e in delete c.f,c.n)c.n.hasOwnProperty(e)&&c.n[e].f&&delete c.n[e].f;c=c.n}};p.once=function(b,a){var c=function(){return p.unbind(b,c),a.apply(this,arguments)};return p.on(b,c)};p.version="0.4.2";p.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=p:"undefined"!=typeof define?define("eve",[],function(){return p}):a.eve=p}(this);
(function(a,c){"function"==typeof define&&define.amd?define(["eve"],function(b){return c(a,b)}):c(a,a.eve)})(this,function(a,c){function b(f){if(b.is(f,"function"))return Q?f():c.on("raphael.DOMload",f);if(b.is(f,ia))return b._engine.create[T](b,f.splice(0,3+b.is(f[0],aa))).add(f);var a=Array.prototype.slice.call(arguments,0);if(b.is(a[a.length-1],"function")){var D=a.pop();return Q?D.call(b._engine.create[T](b,a)):c.on("raphael.DOMload",function(){D.call(b._engine.create[T](b,a))})}return b._engine.create[T](b,
arguments)}function d(f){if(Object(f)!==f)return f;var b=new f.constructor,a;for(a in f)f[V](a)&&(b[a]=d(f[a]));return b}function e(f,b,a){function m(){var c=Array.prototype.slice.call(arguments,0),k=c.join("?"),L=m.cache=m.cache||{},q=m.count=m.count||[];if(L[V](k)){a:for(var c=q,q=k,d=0,e=c.length;e>d;d++)if(c[d]===q){c.push(c.splice(d,1)[0]);break a}k=a?a(L[k]):L[k]}else k=(1E3<=q.length&&delete L[q.shift()],q.push(k),L[k]=f[T](b,c),a?a(L[k]):L[k]);return k}return m}function h(){return this.hex}
function g(f,b){for(var a=[],m=0,c=f.length;c-2*!b>m;m+=2){var k=[{x:+f[m-2],y:+f[m-1]},{x:+f[m],y:+f[m+1]},{x:+f[m+2],y:+f[m+3]},{x:+f[m+4],y:+f[m+5]}];b?m?c-4==m?k[3]={x:+f[0],y:+f[1]}:c-2==m&&(k[2]={x:+f[0],y:+f[1]},k[3]={x:+f[2],y:+f[3]}):k[0]={x:+f[c-2],y:+f[c-1]}:c-4==m?k[3]=k[2]:m||(k[0]={x:+f[m],y:+f[m+1]});a.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return a}function p(f,b,a,m,c,k,L,q,d){null==d&&
(d=1);d=(1<d?1:0>d?0:d)/2;for(var e=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],l=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],r=0,h=0;12>h;h++)var g=d*e[h]+d,p=g*(g*(-3*f+9*a-9*c+3*L)+6*f-12*a+6*c)-3*f+3*a,g=g*(g*(-3*b+9*m-9*k+3*q)+6*b-12*m+6*k)-3*b+3*m,r=r+l[h]*y.sqrt(p*p+g*g);return d*r}function fa(f,b,a,m,c,k,L,q,d){if(!(0>d||p(f,b,a,m,c,k,L,q)<d)){var e,l=0.5,h=1-l;for(e=p(f,b,a,m,c,k,L,q,h);0.01<Y(e-d);)l/=
2,h+=(d>e?1:-1)*l,e=p(f,b,a,m,c,k,L,q,h);return h}}function ga(f,a,D){f=b._path2curve(f);a=b._path2curve(a);for(var m,c,k,L,d,Ba,e,l,h,g,w=D?0:[],Ca=0,t=f.length;t>Ca;Ca++){var H=f[Ca];if("M"==H[0])m=d=H[1],c=Ba=H[2];else{"C"==H[0]?(h=[m,c].concat(H.slice(1)),m=h[6],c=h[7]):(h=[m,c,m,c,d,Ba,d,Ba],m=d,c=Ba);for(var H=0,u=a.length;u>H;H++){var W=a[H];if("M"==W[0])k=e=W[1],L=l=W[2];else{"C"==W[0]?(g=[k,L].concat(W.slice(1)),k=g[6],L=g[7]):(g=[k,L,k,L,e,l,e,l],k=e,L=l);var x=h,B=g,W=D,n=b.bezierBBox(x),
s=b.bezierBBox(B);if(b.isBBoxIntersect(n,s)){for(var n=p.apply(0,x),s=p.apply(0,B),n=~~(n/5),s=~~(s/5),oa=[],Pa=[],db={},C=W?0:[],R=0;n+1>R;R++){var I=b.findDotsAtSegment.apply(b,x.concat(R/n));oa.push({x:I.x,y:I.y,t:R/n})}for(R=0;s+1>R;R++)I=b.findDotsAtSegment.apply(b,B.concat(R/s)),Pa.push({x:I.x,y:I.y,t:R/s});for(R=0;n>R;R++)for(x=0;s>x;x++){var v=oa[R],ca=oa[R+1],B=Pa[x],I=Pa[x+1],Da=0.001>Y(ca.x-v.x)?"y":"x",Ea=0.001>Y(I.x-B.x)?"y":"x",X;b:{X=v.x;var pa=v.y,qa=ca.x,y=ca.y,ra=B.x,A=B.y,K=I.x,
F=I.y;if(!(O(X,qa)<S(ra,K)||S(X,qa)>O(ra,K)||O(pa,y)<S(A,F)||S(pa,y)>O(A,F))){var E=(X*y-pa*qa)*(ra-K)-(X-qa)*(ra*F-A*K),G=(X*y-pa*qa)*(A-F)-(pa-y)*(ra*F-A*K),J=(X-qa)*(A-F)-(pa-y)*(ra-K);if(J){var E=E/J,G=G/J,J=+E.toFixed(2),M=+G.toFixed(2);if(!(J<+S(X,qa).toFixed(2)||J>+O(X,qa).toFixed(2)||J<+S(ra,K).toFixed(2)||J>+O(ra,K).toFixed(2)||M<+S(pa,y).toFixed(2)||M>+O(pa,y).toFixed(2)||M<+S(A,F).toFixed(2)||M>+O(A,F).toFixed(2))){X={x:E,y:G};break b}}}X=void 0}X&&db[X.x.toFixed(4)]!=X.y.toFixed(4)&&(db[X.x.toFixed(4)]=
X.y.toFixed(4),v=v.t+Y((X[Da]-v[Da])/(ca[Da]-v[Da]))*(ca.t-v.t),B=B.t+Y((X[Ea]-B[Ea])/(I[Ea]-B[Ea]))*(I.t-B.t),0<=v&&1>=v&&0<=B&&1>=B&&(W?C++:C.push({x:X.x,y:X.y,t1:v,t2:B})))}W=C}else W=W?0:[];if(D)w+=W;else{n=0;for(s=W.length;s>n;n++)W[n].segment1=Ca,W[n].segment2=H,W[n].bez1=h,W[n].bez2=g;w=w.concat(W)}}}}}return w}function J(f,b,a,m,c,k){null!=f?(this.a=+f,this.b=+b,this.c=+a,this.d=+m,this.e=+c,this.f=+k):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function Z(){return this.x+xa+this.y+
xa+this.width+" \ufffd "+this.height}function M(f,b,a,c,z,k){function L(f,b){var a,U,D,c,m;D=f;for(m=0;8>m;m++){if(c=((h*D+e)*D+d)*D-f,Y(c)<b)return D;if(U=(3*h*D+2*e)*D+d,1E-6>Y(U))break;D-=c/U}if(a=0,U=1,D=f,a>D)return a;if(D>U)return U;for(;U>a&&!(c=((h*D+e)*D+d)*D,Y(c-f)<b);)f>c?a=D:U=D,D=(U-a)/2+a;return D}var d=3*b,e=3*(c-b)-d,h=1-d-e,l=3*a,r=3*(z-a)-l,g=1-l-r;return function(f,b){var a=L(f,b);return((g*a+r)*a+l)*a}(f,1/(200*k))}function A(f,b){var a=[],c={};if(this.ms=b,this.times=1,f){for(var z in f)f[V](z)&&
(c[P(z)]=f[z],a.push(P(z)));a.sort(yb)}this.anim=c;this.top=a[a.length-1];this.percents=a}function K(f,a,D,m,z,k){D=P(D);var L,d,e,h,l,r,g=f.ms,w={},p={},t={};if(m)for(u=0,n=F.length;n>u;u++){var H=F[u];if(H.el.id==a.id&&H.anim==f){H.percent!=D?(F.splice(u,1),e=1):d=H;a.attr(H.totalOrigin);break}}else m=+p;for(var u=0,n=f.percents.length;n>u;u++){if(f.percents[u]==D||f.percents[u]>m*f.top){D=f.percents[u];l=f.percents[u-1]||0;g=g/f.top*(D-l);h=f.percents[u+1];L=f.anim[D];break}m&&a.attr(f.anim[f.percents[u]])}if(L){if(d)d.initstatus=
m,d.start=new Date-d.ms*m;else{for(var x in L)if(L[V](x)&&(Qa[V](x)||a.paper.customAttributes[V](x)))switch(w[x]=a.attr(x),null==w[x]&&(w[x]=zb[x]),p[x]=L[x],Qa[x]){case aa:t[x]=(p[x]-w[x])/g;break;case "colour":w[x]=b.getRGB(w[x]);u=b.getRGB(p[x]);t[x]={r:(u.r-w[x].r)/g,g:(u.g-w[x].g)/g,b:(u.b-w[x].b)/g};break;case "path":var u=ya(w[x],p[x]),B=u[1];w[x]=u[0];t[x]=[];u=0;for(n=w[x].length;n>u;u++){t[x][u]=[0];for(var s=1,y=w[x][u].length;y>s;s++)t[x][u][s]=(B[u][s]-w[x][u][s])/g}break;case "transform":u=
a._;if(B=Ab(u[x],p[x]))for(w[x]=B.from,p[x]=B.to,t[x]=[],t[x].real=!0,u=0,n=w[x].length;n>u;u++)for(t[x][u]=[w[x][u][0]],s=1,y=w[x][u].length;y>s;s++)t[x][u][s]=(p[x][u][s]-w[x][u][s])/g;else B=a.matrix||new J,u={_:{transform:u.transform},getBBox:function(){return a.getBBox(1)}},w[x]=[B.a,B.b,B.c,B.d,B.e,B.f],eb(u,p[x]),p[x]=u._.transform,t[x]=[(u.matrix.a-B.a)/g,(u.matrix.b-B.b)/g,(u.matrix.c-B.c)/g,(u.matrix.d-B.d)/g,(u.matrix.e-B.e)/g,(u.matrix.f-B.f)/g];break;case "csv":B=da(L[x])[ma](na);n=da(w[x])[ma](na);
if("clip-rect"==x)for(w[x]=n,t[x]=[],u=n.length;u--;)t[x][u]=(B[u]-w[x][u])/g;p[x]=B;break;default:for(B=[][N](L[x]),n=[][N](w[x]),t[x]=[],u=a.paper.customAttributes[x].length;u--;)t[x][u]=((B[u]||0)-(n[u]||0))/g}x=L.easing;u=b.easing_formulas[x];if(!u)if(u=da(x).match(Bb),u&&5==u.length)var oa=u,u=function(f){return M(f,+oa[1],+oa[2],+oa[3],+oa[4],g)};else u=Cb;if(r=L.start||f.start||+new Date,H={anim:f,percent:D,timestamp:r,start:r+(f.del||0),status:0,initstatus:m||0,stop:!1,ms:g,easing:u,from:w,
diff:t,to:p,el:a,callback:L.callback,prev:l,next:h,repeat:k||f.times,origin:a.attr(),totalOrigin:z},F.push(H),m&&!d&&!e&&(H.stop=!0,H.start=new Date-g*m,1==F.length))return Ra();e&&(H.start=new Date-H.ms*m);1==F.length&&fb(Ra)}c("raphael.anim.start."+a.id,a,f)}}function G(f){for(var a=0;a<F.length;a++)F[a].el.paper==f&&F.splice(a--,1)}b.version="2.1.0";b.eve=c;var Q,s,na=/[, ]+/,ha={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},Aa=/\{(\d+)\}/g,V="hasOwnProperty",n={doc:document,win:a},gb=Object.prototype[V].call(n.win,
"Raphael"),Db=n.win.Raphael,hb=function(){this.ca=this.customAttributes={}},T="apply",N="concat",Fa="ontouchstart"in n.win||n.win.DocumentTouch&&n.doc instanceof DocumentTouch,xa=" ",da=String,ma="split",ib="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[ma](xa),Ga={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},Ha=da.prototype.toLowerCase,y=Math,O=y.max,S=y.min,Y=y.abs,ja=y.pow,ea=y.PI,aa="number",ia="array",Eb=Object.prototype.toString,
Fb=(b._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Gb={NaN:1,Infinity:1,"-Infinity":1},Bb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Sa=y.round,P=parseFloat,ta=parseInt,jb=da.prototype.toUpperCase,
zb=b._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,
target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},Qa=b._availableAnimAttrs={blur:aa,"clip-rect":"csv",cx:aa,cy:aa,fill:"colour","fill-opacity":aa,"font-size":aa,height:aa,opacity:aa,path:"path",r:aa,rx:aa,ry:aa,stroke:"colour","stroke-opacity":aa,"stroke-width":aa,transform:"transform",width:aa,x:aa,y:aa},Ta=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,
Hb={hs:1,rg:1},Ib=/,?([achlmqrstvxz]),?/gi,Jb=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,
Kb=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,kb=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,
va=(b._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),yb=function(f,a){return P(f)-P(a)},Lb=function(){},Cb=function(f){return f},Ia=b._rectPath=function(f,a,b,c,z){return z?[["M",f+z,a],["l",b-2*z,0],["a",z,z,0,0,1,z,
z],["l",0,c-2*z],["a",z,z,0,0,1,-z,z],["l",2*z-b,0],["a",z,z,0,0,1,-z,-z],["l",0,2*z-c],["a",z,z,0,0,1,z,-z],["z"]]:[["M",f,a],["l",b,0],["l",0,c],["l",-b,0],["z"]]},lb=function(f,a,b,c){return null==c&&(c=b),[["M",f,a],["m",0,-c],["a",b,c,0,1,1,0,2*c],["a",b,c,0,1,1,0,-2*c],["z"]]},Ja=b._getPath={path:function(f){return f.attr("path")},circle:function(f){f=f.attrs;return lb(f.cx,f.cy,f.r)},ellipse:function(f){f=f.attrs;return lb(f.cx,f.cy,f.rx,f.ry)},rect:function(f){f=f.attrs;return Ia(f.x,f.y,
f.width,f.height,f.r)},image:function(f){f=f.attrs;return Ia(f.x,f.y,f.width,f.height)},text:function(f){f=f._getBBox();return Ia(f.x,f.y,f.width,f.height)},set:function(f){f=f._getBBox();return Ia(f.x,f.y,f.width,f.height)}},Ua=b.mapPath=function(f,a){if(!a)return f;var b,c,z,k,d,q,e;f=ya(f);z=0;for(d=f.length;d>z;z++)for(e=f[z],k=1,q=e.length;q>k;k+=2)b=a.x(e[k],e[k+1]),c=a.y(e[k],e[k+1]),e[k]=b,e[k+1]=c;return f};if(b._g=n,b.type=n.win.SVGAngle||n.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure",
"1.1")?"SVG":"VML","VML"==b.type){var Ka,Va=n.doc.createElement("div");if(Va.innerHTML='\x3cv:shape adj\x3d"1"/\x3e',Ka=Va.firstChild,Ka.style.behavior="url(#default#VML)",!Ka||"object"!=typeof Ka.adj)return b.type="";Va=null}b.svg=!(b.vml="VML"==b.type);b._Paper=hb;b.fn=s=hb.prototype=b.prototype;b._id=0;b._oid=0;b.is=function(f,a){return a=Ha.call(a),"finite"==a?!Gb[V](+f):"array"==a?f instanceof Array:"null"==a&&null===f||a==typeof f&&null!==f||"object"==a&&f===Object(f)||"array"==a&&Array.isArray&&
Array.isArray(f)||Eb.call(f).slice(8,-1).toLowerCase()==a};b.angle=function(f,a,D,c,z,k){return null==z?(f-=D,a-=c,f||a?(180*y.atan2(-a,-f)/ea+540)%360:0):b.angle(f,a,z,k)-b.angle(D,c,z,k)};b.rad=function(f){return f%360*ea/180};b.deg=function(f){return 180*f/ea%360};b.snapTo=function(f,a,D){if(D=b.is(D,"finite")?D:10,b.is(f,ia))for(var c=f.length;c--;){if(Y(f[c]-a)<=D)return f[c]}else{f=+f;c=a%f;if(D>c)return a-c;if(c>f-D)return a-c+f}return a};b.createUUID=function(f,a){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(f,
a).toUpperCase()}}(/[xy]/g,function(f){var a=0|16*y.random();return("x"==f?a:8|3&a).toString(16)});b.setWindow=function(f){c("raphael.setWindow",b,n.win,f);n.win=f;n.doc=n.win.document;b._engine.initWin&&b._engine.initWin(n.win)};var La=function(f){if(b.vml){var a,c=/^\s+|\s+$/g;try{var m=new ActiveXObject("htmlfile");m.write("\x3cbody\x3e");m.close();a=m.body}catch(z){a=createPopup().document.body}var k=a.createTextRange();La=e(function(f){try{a.style.color=da(f).replace(c,"");var b=k.queryCommandValue("ForeColor");
return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(m){return"none"}})}else{var d=n.doc.createElement("i");d.title="Rapha\ufffdl Colour Picker";d.style.display="none";n.doc.body.appendChild(d);La=e(function(f){return d.style.color=f,n.doc.defaultView.getComputedStyle(d,"").getPropertyValue("color")})}return La(f)},Mb=function(){return"hsb("+[this.h,this.s,this.b]+")"},Nb=function(){return"hsl("+[this.h,this.s,this.l]+")"},mb=function(){return this.hex},nb=
function(f,a,c){if(null==a&&b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(c=f.b,a=f.g,f=f.r),null==a&&b.is(f,"string"))c=b.getRGB(f),f=c.r,a=c.g,c=c.b;return(1<f||1<a||1<c)&&(f/=255,a/=255,c/=255),[f,a,c]},ob=function(f,a,c,m){f*=255;a*=255;c*=255;f={r:f,g:a,b:c,hex:b.rgb(f,a,c),toString:mb};return b.is(m,"finite")&&(f.opacity=m),f};b.color=function(f){var a;return b.is(f,"object")&&"h"in f&&"s"in f&&"b"in f?(a=b.hsb2rgb(f),f.r=a.r,f.g=a.g,f.b=a.b,f.hex=a.hex):b.is(f,"object")&&"h"in f&&"s"in f&&
"l"in f?(a=b.hsl2rgb(f),f.r=a.r,f.g=a.g,f.b=a.b,f.hex=a.hex):(b.is(f,"string")&&(f=b.getRGB(f)),b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f?(a=b.rgb2hsl(f),f.h=a.h,f.s=a.s,f.l=a.l,a=b.rgb2hsb(f),f.v=a.b):(f={hex:"none"},f.r=f.g=f.b=f.h=f.s=f.v=f.l=-1)),f.toString=mb,f};b.hsb2rgb=function(f,a,b,c){this.is(f,"object")&&"h"in f&&"s"in f&&"b"in f&&(b=f.b,a=f.s,f=f.h,c=f.o);f*=360;var z,k,d,q,e;return f=f%360/60,e=b*a,q=e*(1-Y(f%2-1)),z=k=d=b-e,f=~~f,z+=[e,q,0,0,q,e][f],k+=[q,e,e,q,0,0][f],d+=[0,0,q,e,
e,q][f],ob(z,k,d,c)};b.hsl2rgb=function(f,a,b,c){this.is(f,"object")&&"h"in f&&"s"in f&&"l"in f&&(b=f.l,a=f.s,f=f.h);(1<f||1<a||1<b)&&(f/=360,a/=100,b/=100);f*=360;var z,k,d,q,e;return f=f%360/60,e=2*a*(0.5>b?b:1-b),q=e*(1-Y(f%2-1)),z=k=d=b-e/2,f=~~f,z+=[e,q,0,0,q,e][f],k+=[q,e,e,q,0,0][f],d+=[0,0,q,e,e,q][f],ob(z,k,d,c)};b.rgb2hsb=function(f,a,b){b=nb(f,a,b);f=b[0];a=b[1];b=b[2];var c,z,k,d;return k=O(f,a,b),d=k-S(f,a,b),c=0==d?null:k==f?(a-b)/d:k==a?(b-f)/d+2:(f-a)/d+4,c=60*((c+360)%6)/360,z=0==
d?0:d/k,{h:c,s:z,b:k,toString:Mb}};b.rgb2hsl=function(f,a,b){b=nb(f,a,b);f=b[0];a=b[1];b=b[2];var c,z,k,d,e,h;return d=O(f,a,b),e=S(f,a,b),h=d-e,c=0==h?null:d==f?(a-b)/h:d==a?(b-f)/h+2:(f-a)/h+4,c=60*((c+360)%6)/360,k=(d+e)/2,z=0==h?0:0.5>k?h/(2*k):h/(2-2*k),{h:c,s:z,l:k,toString:Nb}};b._path2string=function(){return this.join(",").replace(Ib,"$1")};b._preload=function(f,a){var b=n.doc.createElement("img");b.style.cssText="position:absolute;left:-9999em;top:-9999em";b.onload=function(){a.call(this);
this.onload=null;n.doc.body.removeChild(this)};b.onerror=function(){n.doc.body.removeChild(this)};n.doc.body.appendChild(b);b.src=f};b.getRGB=e(function(f){if(!f||(f=da(f)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:h};if("none"==f)return{r:-1,g:-1,b:-1,hex:"none",toString:h};!Hb[V](f.toLowerCase().substring(0,2))&&"#"!=f.charAt()&&(f=La(f));var a,c,m,z,k,d;return(f=f.match(Fb))?(f[2]&&(m=ta(f[2].substring(5),16),c=ta(f[2].substring(3,5),16),a=ta(f[2].substring(1,3),16)),f[3]&&
(m=ta((k=f[3].charAt(3))+k,16),c=ta((k=f[3].charAt(2))+k,16),a=ta((k=f[3].charAt(1))+k,16)),f[4]&&(d=f[4][ma](Ta),a=P(d[0]),"%"==d[0].slice(-1)&&(a*=2.55),c=P(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),m=P(d[2]),"%"==d[2].slice(-1)&&(m*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(z=P(d[3])),d[3]&&"%"==d[3].slice(-1)&&(z/=100)),f[5]?(d=f[5][ma](Ta),a=P(d[0]),"%"==d[0].slice(-1)&&(a*=2.55),c=P(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),m=P(d[2]),"%"==d[2].slice(-1)&&(m*=2.55),("deg"==d[0].slice(-3)||"\ufffd"==
d[0].slice(-1))&&(a/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(z=P(d[3])),d[3]&&"%"==d[3].slice(-1)&&(z/=100),b.hsb2rgb(a,c,m,z)):f[6]?(d=f[6][ma](Ta),a=P(d[0]),"%"==d[0].slice(-1)&&(a*=2.55),c=P(d[1]),"%"==d[1].slice(-1)&&(c*=2.55),m=P(d[2]),"%"==d[2].slice(-1)&&(m*=2.55),("deg"==d[0].slice(-3)||"\ufffd"==d[0].slice(-1))&&(a/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(z=P(d[3])),d[3]&&"%"==d[3].slice(-1)&&(z/=100),b.hsl2rgb(a,c,m,z)):(f={r:a,g:c,b:m,toString:h},f.hex="#"+(16777216|m|c<<8|a<<
16).toString(16).slice(1),b.is(z,"finite")&&(f.opacity=z),f)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:h}},b);b.hsb=e(function(f,a,c){return b.hsb2rgb(f,a,c).hex});b.hsl=e(function(f,a,c){return b.hsl2rgb(f,a,c).hex});b.rgb=e(function(f,a,b){return"#"+(16777216|b|a<<8|f<<16).toString(16).slice(1)});b.getColor=function(f){f=this.getColor.start=this.getColor.start||{h:0,s:1,b:f||0.75};var a=this.hsb2rgb(f.h,f.s,f.b);return f.h+=0.075,1<f.h&&(f.h=0,f.s-=0.2,0>=f.s&&(this.getColor.start={h:0,s:1,b:f.b})),
a.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=function(f){if(!f)return null;var a=ua(f);if(a.arr)return la(a.arr);var c={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},m=[];return b.is(f,ia)&&b.is(f[0],ia)&&(m=la(f)),m.length||da(f).replace(Jb,function(f,a,b){var U=[];f=a.toLowerCase();if(b.replace(kb,function(f,a){a&&U.push(+a)}),"m"==f&&2<U.length&&(m.push([a][N](U.splice(0,2))),f="l",a="m"==a?"l":"L"),"r"==f)m.push([a][N](U));else for(;U.length>=c[f]&&(m.push([a][N](U.splice(0,
c[f]))),c[f]););}),m.toString=b._path2string,a.arr=la(m),m};b.parseTransformString=e(function(f){if(!f)return null;var a=[];return b.is(f,ia)&&b.is(f[0],ia)&&(a=la(f)),a.length||da(f).replace(Kb,function(f,b,c){var k=[];Ha.call(b);c.replace(kb,function(f,a){a&&k.push(+a)});a.push([b][N](k))}),a.toString=b._path2string,a});var ua=function(f){var a=ua.ps=ua.ps||{};return a[f]?a[f].sleep=100:a[f]={sleep:100},setTimeout(function(){for(var b in a)a[V](b)&&b!=f&&(a[b].sleep--,!a[b].sleep&&delete a[b])}),
a[f]};b.findDotsAtSegment=function(f,a,b,c,d,k,e,q,h){var g=1-h,l=ja(g,3),r=ja(g,2),p=h*h,w=p*h,n=l*f+3*r*h*b+3*g*h*h*d+w*e,l=l*a+3*r*h*c+3*g*h*h*k+w*q,r=f+2*h*(b-f)+p*(d-2*b+f),w=a+2*h*(c-a)+p*(k-2*c+a),t=b+2*h*(d-b)+p*(e-2*d+b),p=c+2*h*(k-c)+p*(q-2*k+c);f=g*f+h*b;a=g*a+h*c;d=g*d+h*e;k=g*k+h*q;q=90-180*y.atan2(r-t,w-p)/ea;return(r>t||p>w)&&(q+=180),{x:n,y:l,m:{x:r,y:w},n:{x:t,y:p},start:{x:f,y:a},end:{x:d,y:k},alpha:q}};b.bezierBBox=function(f,a,c,m,d,k,e,q){b.is(f,"array")||(f=[f,a,c,m,d,k,e,q]);
f=pb.apply(null,f);return{x:f.min.x,y:f.min.y,x2:f.max.x,y2:f.max.y,width:f.max.x-f.min.x,height:f.max.y-f.min.y}};b.isPointInsideBBox=function(f,a,b){return a>=f.x&&a<=f.x2&&b>=f.y&&b<=f.y2};b.isBBoxIntersect=function(f,a){var c=b.isPointInsideBBox;return c(a,f.x,f.y)||c(a,f.x2,f.y)||c(a,f.x,f.y2)||c(a,f.x2,f.y2)||c(f,a.x,a.y)||c(f,a.x2,a.y)||c(f,a.x,a.y2)||c(f,a.x2,a.y2)||(f.x<a.x2&&f.x>a.x||a.x<f.x2&&a.x>f.x)&&(f.y<a.y2&&f.y>a.y||a.y<f.y2&&a.y>f.y)};b.pathIntersection=function(f,a){return ga(f,
a)};b.pathIntersectionNumber=function(f,a){return ga(f,a,1)};b.isPointInsidePath=function(f,a,c){var m=b.pathBBox(f);return b.isPointInsideBBox(m,a,c)&&1==ga(f,[["M",a,c],["H",m.x2+10]],1)%2};b._removedFactory=function(f){return function(){c("raphael.log",null,"Rapha\ufffdl: you are calling to method \ufffd"+f+"\ufffd of removed object",f)}};var Wa=b.pathBBox=function(f){var a=ua(f);if(a.bbox)return d(a.bbox);if(!f)return{x:0,y:0,width:0,height:0,x2:0,y2:0};f=ya(f);for(var b,c=0,z=0,k=[],e=[],q=0,
h=f.length;h>q;q++)(b=f[q],"M"==b[0])?(c=b[1],z=b[2],k.push(c),e.push(z)):(c=pb(c,z,b[1],b[2],b[3],b[4],b[5],b[6]),k=k[N](c.min.x,c.max.x),e=e[N](c.min.y,c.max.y),c=b[5],z=b[6]);f=S[T](0,k);b=S[T](0,e);k=O[T](0,k);e=O[T](0,e);q=k-f;h=e-b;e={x:f,y:b,x2:k,y2:e,width:q,height:h,cx:f+q/2,cy:b+h/2};return a.bbox=d(e),e},la=function(f){f=d(f);return f.toString=b._path2string,f},Ob=b._pathToRelative=function(f){var a=ua(f);if(a.rel)return la(a.rel);b.is(f,ia)&&b.is(f&&f[0],ia)||(f=b.parsePathString(f));
var c=[],m=0,d=0,k=0,e=0,q=0;"M"==f[0][0]&&(m=f[0][1],d=f[0][2],k=m,e=d,q++,c.push(["M",m,d]));for(var h=f.length;h>q;q++){var g=c[q]=[],l=f[q];if(l[0]!=Ha.call(l[0]))switch(g[0]=Ha.call(l[0]),g[0]){case "a":g[1]=l[1];g[2]=l[2];g[3]=l[3];g[4]=l[4];g[5]=l[5];g[6]=+(l[6]-m).toFixed(3);g[7]=+(l[7]-d).toFixed(3);break;case "v":g[1]=+(l[1]-d).toFixed(3);break;case "m":k=l[1],e=l[2];default:for(var r=1,p=l.length;p>r;r++)g[r]=+(l[r]-(r%2?m:d)).toFixed(3)}else for(c[q]=[],"m"==l[0]&&(k=l[1]+m,e=l[2]+d),
g=0,r=l.length;r>g;g++)c[q][g]=l[g];l=c[q].length;switch(c[q][0]){case "z":m=k;d=e;break;case "h":m+=+c[q][l-1];break;case "v":d+=+c[q][l-1];break;default:m+=+c[q][l-2],d+=+c[q][l-1]}}return c.toString=b._path2string,a.rel=la(c),c},qb=b._pathToAbsolute=function(f){var a=ua(f);if(a.abs)return la(a.abs);if(b.is(f,ia)&&b.is(f&&f[0],ia)||(f=b.parsePathString(f)),!f||!f.length)return[["M",0,0]];var c=[],m=0,d=0,k=0,e=0,q=0;"M"==f[0][0]&&(m=+f[0][1],d=+f[0][2],k=m,e=d,q++,c[0]=["M",m,d]);for(var h,p=3==
f.length&&"M"==f[0][0]&&"R"==f[1][0].toUpperCase()&&"Z"==f[2][0].toUpperCase(),l=q,r=f.length;r>l;l++){if(c.push(q=[]),h=f[l],h[0]!=jb.call(h[0]))switch(q[0]=jb.call(h[0]),q[0]){case "A":q[1]=h[1];q[2]=h[2];q[3]=h[3];q[4]=h[4];q[5]=h[5];q[6]=+(h[6]+m);q[7]=+(h[7]+d);break;case "V":q[1]=+h[1]+d;break;case "H":q[1]=+h[1]+m;break;case "R":for(var n=[m,d][N](h.slice(1)),w=2,s=n.length;s>w;w++)n[w]=+n[w]+m,n[++w]=+n[w]+d;c.pop();c=c[N](g(n,p));break;case "M":k=+h[1]+m,e=+h[2]+d;default:for(w=1,s=h.length;s>
w;w++)q[w]=+h[w]+(w%2?m:d)}else if("R"==h[0])n=[m,d][N](h.slice(1)),c.pop(),c=c[N](g(n,p)),q=["R"][N](h.slice(-2));else for(n=0,w=h.length;w>n;n++)q[n]=h[n];switch(q[0]){case "Z":m=k;d=e;break;case "H":m=q[1];break;case "V":d=q[1];break;case "M":k=q[q.length-2],e=q[q.length-1];default:m=q[q.length-2],d=q[q.length-1]}}return c.toString=b._path2string,a.abs=la(c),c},rb=function(a,b,c,m,d,k){var e=1/3,h=2/3;return[e*a+h*c,e*b+h*m,e*d+h*c,e*k+h*m,d,k]},sb=function(a,b,c,m,d,k,h,q,g,p){var l,r=120*ea/
180,n=ea/180*(+d||0),w=[],s=e(function(a,f,b){var c=a*y.cos(b)-f*y.sin(b);a=a*y.sin(b)+f*y.cos(b);return{x:c,y:a}});if(p)u=p[0],l=p[1],k=p[2],t=p[3];else{l=s(a,b,-n);a=l.x;b=l.y;l=s(q,g,-n);q=l.x;g=l.y;l=(y.cos(ea/180*d),y.sin(ea/180*d),(a-q)/2);u=(b-g)/2;t=l*l/(c*c)+u*u/(m*m);1<t&&(t=y.sqrt(t),c*=t,m*=t);var t=c*c,H=m*m,t=(k==h?-1:1)*y.sqrt(Y((t*H-t*u*u-H*l*l)/(t*u*u+H*l*l)));k=t*c*u/m+(a+q)/2;var t=t*-m*l/c+(b+g)/2,u=y.asin(((b-t)/m).toFixed(9));l=y.asin(((g-t)/m).toFixed(9));u=k>a?ea-u:u;l=k>q?
ea-l:l;0>u&&(u=2*ea+u);0>l&&(l=2*ea+l);h&&u>l&&(u-=2*ea);!h&&l>u&&(l-=2*ea)}if(Y(l-u)>r){var w=l,H=q,W=g;l=u+r*(h&&l>u?1:-1);q=k+c*y.cos(l);g=t+m*y.sin(l);w=sb(q,g,c,m,d,0,h,H,W,[l,w,k,t])}k=l-u;d=y.cos(u);r=y.sin(u);h=y.cos(l);l=y.sin(l);k=y.tan(k/4);c=4/3*c*k;k*=4/3*m;m=[a,b];a=[a+c*r,b-k*d];b=[q+c*l,g-k*h];q=[q,g];if(a[0]=2*m[0]-a[0],a[1]=2*m[1]-a[1],p)return[a,b,q][N](w);w=[a,b,q][N](w).join()[ma](",");p=[];q=0;for(g=w.length;g>q;q++)p[q]=q%2?s(w[q-1],w[q],n).y:s(w[q],w[q+1],n).x;return p},Ma=
function(a,b,c,m,d,k,e,h,g){var p=1-g;return{x:ja(p,3)*a+3*ja(p,2)*g*c+3*p*g*g*d+ja(g,3)*e,y:ja(p,3)*b+3*ja(p,2)*g*m+3*p*g*g*k+ja(g,3)*h}},pb=e(function(a,b,c,m,d,k,e,h){var g,p=d-2*c+a-(e-2*d+c),l=2*(c-a)-2*(d-c),r=a-c,n=(-l+y.sqrt(l*l-4*p*r))/2/p,w=(-l-y.sqrt(l*l-4*p*r))/2/p,s=[b,h],t=[a,e];return"1e12"<Y(n)&&(n=0.5),"1e12"<Y(w)&&(w=0.5),0<n&&1>n&&(g=Ma(a,b,c,m,d,k,e,h,n),t.push(g.x),s.push(g.y)),0<w&&1>w&&(g=Ma(a,b,c,m,d,k,e,h,w),t.push(g.x),s.push(g.y)),p=k-2*m+b-(h-2*k+m),l=2*(m-b)-2*(k-m),r=
b-m,n=(-l+y.sqrt(l*l-4*p*r))/2/p,w=(-l-y.sqrt(l*l-4*p*r))/2/p,"1e12"<Y(n)&&(n=0.5),"1e12"<Y(w)&&(w=0.5),0<n&&1>n&&(g=Ma(a,b,c,m,d,k,e,h,n),t.push(g.x),s.push(g.y)),0<w&&1>w&&(g=Ma(a,b,c,m,d,k,e,h,w),t.push(g.x),s.push(g.y)),{min:{x:S[T](0,t),y:S[T](0,s)},max:{x:O[T](0,t),y:O[T](0,s)}}}),ya=b._path2curve=e(function(a,b){var c=!b&&ua(a);if(!b&&c.curve)return la(c.curve);var m=qb(a),d=b&&qb(b),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,f,
b){var c,m;if(!a)return["C",f.x,f.y,f.x,f.y,f.x,f.y];switch(!(a[0]in{T:1,Q:1})&&(f.qx=f.qy=null),a[0]){case "M":f.X=a[1];f.Y=a[2];break;case "A":a=["C"][N](sb[T](0,[f.x,f.y][N](a.slice(1))));break;case "S":"C"==b||"S"==b?(c=2*f.x-f.bx,m=2*f.y-f.by):(c=f.x,m=f.y);a=["C",c,m][N](a.slice(1));break;case "T":"Q"==b||"T"==b?(f.qx=2*f.x-f.qx,f.qy=2*f.y-f.qy):(f.qx=f.x,f.qy=f.y);a=["C"][N](rb(f.x,f.y,f.qx,f.qy,a[1],a[2]));break;case "Q":f.qx=a[1];f.qy=a[2];a=["C"][N](rb(f.x,f.y,a[1],a[2],a[3],a[4]));break;
case "L":a=["C"][N]([f.x,f.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][N]([f.x,f.y,a[1],f.y,a[1],f.y]);break;case "V":a=["C"][N]([f.x,f.y,f.x,a[1],f.x,a[1]]);break;case "Z":a=["C"][N]([f.x,f.y,f.X,f.Y,f.X,f.Y])}return a},g=function(a,f){if(7<a[f].length){a[f].shift();for(var b=a[f];b.length;)a.splice(f++,0,["C"][N](b.splice(0,6)));a.splice(f,1);r=O(m.length,d&&d.length||0)}},p=function(a,f,b,c,k){a&&f&&"M"==a[k][0]&&"M"!=f[k][0]&&(f.splice(k,0,["M",c.x,c.y]),b.bx=0,b.by=0,b.x=a[k][1],b.y=a[k][2],
r=O(m.length,d&&d.length||0))},l=0,r=O(m.length,d&&d.length||0);for(;r>l;l++){m[l]=h(m[l],k);g(m,l);d&&(d[l]=h(d[l],e));d&&g(d,l);p(m,d,k,e,l);p(d,m,e,k,l);var n=m[l],w=d&&d[l],s=n.length,t=d&&w.length;k.x=n[s-2];k.y=n[s-1];k.bx=P(n[s-4])||k.x;k.by=P(n[s-3])||k.y;e.bx=d&&(P(w[t-4])||e.x);e.by=d&&(P(w[t-3])||e.y);e.x=d&&w[t-2];e.y=d&&w[t-1]}return d||(c.curve=la(m)),d?[m,d]:m},null,la),Na=(b._parseDots=e(function(a){for(var c=[],d=0,m=a.length;m>d;d++){var e={},k=a[d].match(/^([^:]*):?([\d\.]*)/);
if(e.color=b.getRGB(k[1]),e.color.error)return null;e.color=e.color.hex;k[2]&&(e.offset=k[2]+"%");c.push(e)}d=1;for(m=c.length-1;m>d;d++)if(!c[d].offset){a=P(c[d-1].offset||0);k=0;for(e=d+1;m>e;e++)if(c[e].offset){k=c[e].offset;break}k||(k=100,e=m);k=P(k);for(k=(k-a)/(e-d+1);e>d;d++)a+=k,c[d].offset=a+"%"}return c}),b._tear=function(a,b){a==b.top&&(b.top=a.prev);a==b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)}),Pb=(b._tofront=function(a,b){b.top!==a&&(Na(a,
b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},b._toback=function(a,b){b.bottom!==a&&(Na(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},b._insertafter=function(a,b,c){Na(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},b._insertbefore=function(a,b,c){Na(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},b.toMatrix=function(a,b){var c=Wa(a),m={_:{transform:""},getBBox:function(){return c}};return eb(m,b),m.matrix}),
eb=(b.transformPath=function(a,b){return Ua(a,Pb(a,b))},b._extractTransform=function(a,c){if(null==c)return a._.transform;c=da(c).replace(/\.{3}|\u2026/g,a._.transform||"");var d=b.parseTransformString(c),m=0,e=0,k=0,h=1,g=1,p=a._,k=new J;if(p.transform=d||[],d)for(var e=0,n=d.length;n>e;e++){var l,r,s,w,y,t=d[e],H=t.length,u=da(t[0]).toLowerCase(),A=t[0]!=u,x=A?k.invert():0;"t"==u&&3==H?A?(l=x.x(0,0),r=x.y(0,0),s=x.x(t[1],t[2]),w=x.y(t[1],t[2]),k.translate(s-l,w-r)):k.translate(t[1],t[2]):"r"==u?
2==H?(y=y||a.getBBox(1),k.rotate(t[1],y.x+y.width/2,y.y+y.height/2),m+=t[1]):4==H&&(A?(s=x.x(t[2],t[3]),w=x.y(t[2],t[3]),k.rotate(t[1],s,w)):k.rotate(t[1],t[2],t[3]),m+=t[1]):"s"==u?2==H||3==H?(y=y||a.getBBox(1),k.scale(t[1],t[H-1],y.x+y.width/2,y.y+y.height/2),h*=t[1],g*=t[H-1]):5==H&&(A?(s=x.x(t[3],t[4]),w=x.y(t[3],t[4]),k.scale(t[1],t[2],s,w)):k.scale(t[1],t[2],t[3],t[4]),h*=t[1],g*=t[2]):"m"==u&&7==H&&k.add(t[1],t[2],t[3],t[4],t[5],t[6]);p.dirtyT=1;a.matrix=k}a.matrix=k;p.sx=h;p.sy=g;p.deg=m;
p.dx=e=k.e;p.dy=k=k.f;1==h&&1==g&&!m&&p.bbox?(p.bbox.x+=+e,p.bbox.y+=+k):p.dirtyT=1}),tb=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Ab=b._equaliseTransform=function(a,c){c=da(c).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];c=b.parseTransformString(c)||[];for(var d,m,e,k,h=O(a.length,c.length),g=[],p=[],n=
0;h>n;n++){if(e=a[n]||tb(c[n]),k=c[n]||tb(e),e[0]!=k[0]||"r"==e[0].toLowerCase()&&(e[2]!=k[2]||e[3]!=k[3])||"s"==e[0].toLowerCase()&&(e[3]!=k[3]||e[4]!=k[4]))return;g[n]=[];p[n]=[];d=0;for(m=O(e.length,k.length);m>d;d++)d in e&&(g[n][d]=e[d]),d in k&&(p[n][d]=k[d])}return{from:g,to:p}};b._getContainer=function(a,c,d,m){var e;return e=null!=m||b.is(a,"object")?a:n.doc.getElementById(a),null!=e?e.tagName?null==c?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:
{container:e,width:c,height:d}:{container:1,x:a,y:c,width:d,height:m}:void 0};b.pathToRelative=Ob;b._engine={};b.path2curve=ya;b.matrix=function(a,b,c,d,e,k){return new J(a,b,c,d,e,k)};(function(a){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=y.sqrt(c(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,f,c,d,e){var D=[[],[],[]],U=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,f,d],[b,c,e],[0,0,1]];a&&a instanceof J&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=
0;3>a;a++)for(f=0;3>f;f++){for(c=d=0;3>c;c++)d+=U[a][c]*b[c][f];D[a][f]=d}this.a=D[0][0];this.b=D[1][0];this.c=D[0][1];this.d=D[1][1];this.e=D[0][2];this.f=D[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new J(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new J(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,f,c){null==b&&(b=a);
(f||c)&&this.add(1,0,0,1,f,c);this.add(a,0,0,b,0,0);(f||c)&&this.add(1,0,0,1,-f,-c)};a.rotate=function(a,f,c){a=b.rad(a);f=f||0;c=c||0;var d=+y.cos(a).toFixed(9);a=+y.sin(a).toFixed(9);this.add(d,a,-a,d,f,c);this.add(1,0,0,1,-f,-c)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[da.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return b.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),
this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11\x3d"+this.get(0)+", M12\x3d"+this.get(2)+", M21\x3d"+this.get(1)+", M22\x3d"+this.get(3)+", Dx\x3d"+this.get(4)+", Dy\x3d"+this.get(5)+", sizingmethod\x3d'auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var f=[[this.a,this.c],[this.b,this.d]];a.scalex=y.sqrt(c(f[0]));
d(f[0]);a.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1];f[1]=[f[1][0]-f[0][0]*a.shear,f[1][1]-f[0][1]*a.shear];a.scaley=y.sqrt(c(f[1]));d(f[1]);a.shear/=a.scaley;var k=-f[0][1],f=f[1][1];return 0>f?(a.rotate=b.deg(y.acos(f)),0>k&&(a.rotate=360-a.rotate)):a.rotate=b.deg(y.asin(k)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a};a.toTransformString=
function(a){a=a||this[ma]();return a.isSimple?(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx||a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(J.prototype);var Oa=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);s.safari="Apple Computer, Inc."==navigator.vendor&&
(Oa&&4>Oa[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Oa&&8>Oa[1]?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:Lb;for(var Qb=function(){this.returnValue=!1},Rb=function(){return this.originalEvent.preventDefault()},Sb=function(){this.cancelBubble=!0},Tb=function(){return this.originalEvent.stopPropagation()},ub=function(a){return{x:a.clientX+(n.doc.documentElement.scrollLeft||n.doc.body.scrollLeft),
y:a.clientY+(n.doc.documentElement.scrollTop||n.doc.body.scrollTop)}},Ub=function(){return n.doc.addEventListener?function(a,b,c,d){var e=function(a){var b=ub(a);return c.call(d,a,b.x,b.y)};(a.addEventListener(b,e,!1),Fa&&Ga[b])&&a.addEventListener(Ga[b],function(b){for(var e=ub(b),U=b,h=0,g=b.targetTouches&&b.targetTouches.length;g>h;h++)if(b.targetTouches[h].target==a){b=b.targetTouches[h];b.originalEvent=U;b.preventDefault=Rb;b.stopPropagation=Tb;break}return c.call(d,b,e.x,e.y)},!1);return function(){return a.removeEventListener(b,
e,!1),Fa&&Ga[b]&&a.removeEventListener(Ga[b],e,!1),!0}}:n.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||n.win.event;var b=a.clientX+(n.doc.documentElement.scrollLeft||n.doc.body.scrollLeft),f=a.clientY+(n.doc.documentElement.scrollTop||n.doc.body.scrollTop);return a.preventDefault=a.preventDefault||Qb,a.stopPropagation=a.stopPropagation||Sb,c.call(d,a,b,f)};a.attachEvent("on"+b,e);return function(){return a.detachEvent("on"+b,e),!0}}:void 0}(),sa=[],Xa=function(a){for(var b,d=a.clientX,
e=a.clientY,h=n.doc.documentElement.scrollTop||n.doc.body.scrollTop,k=n.doc.documentElement.scrollLeft||n.doc.body.scrollLeft,g=sa.length;g--;){if(b=sa[g],Fa&&a.touches)for(var q,p=a.touches.length;p--;){if(q=a.touches[p],q.identifier==b.el._drag.id){d=q.clientX;e=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var s=b.el.node,l=s.nextSibling,r=s.parentNode,y=s.style.display;n.win.opera&&r.removeChild(s);s.style.display="none";p=b.el.paper.getElementByPoint(d,
e);s.style.display=y;n.win.opera&&(l?r.insertBefore(s,l):r.appendChild(s));p&&c("raphael.drag.over."+b.el.id,b.el,p);d+=k;e+=h;c("raphael.drag.move."+b.el.id,b.move_scope||b.el,d-b.el._drag.x,e-b.el._drag.y,d,e,a)}},Ya=function(a){b.unmousemove(Xa).unmouseup(Ya);for(var d,e=sa.length;e--;)d=sa[e],d.el._drag={},c("raphael.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,a);sa=[]},E=b.el={},vb=ib.length;vb--;)!function(a){b[a]=E[a]=function(c,d){return b.is(c,"function")&&(this.events=
this.events||[],this.events.push({name:a,f:c,unbind:Ub(this.shape||this.node||n.doc,a,c,d||this)})),this};b["un"+a]=E["un"+a]=function(c){for(var d=this.events||[],e=d.length;e--;)d[e].name!=a||!b.is(c,"undefined")&&d[e].f!=c||(d[e].unbind(),d.splice(e,1),!d.length&&delete this.events);return this}}(ib[vb]);E.data=function(a,d){var e=va[this.id]=va[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(b.is(a,"object")){for(var m in a)a[V](m)&&this.data(m,a[m]);return this}return c("raphael.data.get."+
this.id,this,e[a],a),e[a]}return e[a]=d,c("raphael.data.set."+this.id,this,d,a),this};E.removeData=function(a){return null==a?va[this.id]={}:va[this.id]&&delete va[this.id][a],this};E.getData=function(){return d(va[this.id]||{})};E.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};E.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var wa=[];E.drag=function(a,d,e,m,h,k){function g(q){(q.originalEvent||q).preventDefault();var p=q.clientX,L=q.clientY,l=n.doc.documentElement.scrollTop||
n.doc.body.scrollTop,r=n.doc.documentElement.scrollLeft||n.doc.body.scrollLeft;if(this._drag.id=q.identifier,Fa&&q.touches)for(var s,w=q.touches.length;w--;)if(s=q.touches[w],this._drag.id=s.identifier,s.identifier==this._drag.id){p=s.clientX;L=s.clientY;break}this._drag.x=p+r;this._drag.y=L+l;!sa.length&&b.mousemove(Xa).mouseup(Ya);sa.push({el:this,move_scope:m,start_scope:h,end_scope:k});d&&c.on("raphael.drag.start."+this.id,d);a&&c.on("raphael.drag.move."+this.id,a);e&&c.on("raphael.drag.end."+
this.id,e);c("raphael.drag.start."+this.id,h||m||this,q.clientX+r,q.clientY+l,q)}return this._drag={},wa.push({el:this,start:g}),this.mousedown(g),this};E.onDragOver=function(a){a?c.on("raphael.drag.over."+this.id,a):c.unbind("raphael.drag.over."+this.id)};E.undrag=function(){for(var a=wa.length;a--;)wa[a].el==this&&(this.unmousedown(wa[a].start),wa.splice(a,1),c.unbind("raphael.drag.*."+this.id));!wa.length&&b.unmousemove(Xa).unmouseup(Ya);sa=[]};s.circle=function(a,c,d){a=b._engine.circle(this,
a||0,c||0,d||0);return this.__set__&&this.__set__.push(a),a};s.rect=function(a,c,d,e,h){a=b._engine.rect(this,a||0,c||0,d||0,e||0,h||0);return this.__set__&&this.__set__.push(a),a};s.ellipse=function(a,c,d,e){a=b._engine.ellipse(this,a||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(a),a};s.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],ia)&&(a+="");var c=b._engine.path(b.format[T](b,arguments),this);return this.__set__&&this.__set__.push(c),c};s.image=function(a,c,d,e,h){a=b._engine.image(this,
a||"about:blank",c||0,d||0,e||0,h||0);return this.__set__&&this.__set__.push(a),a};s.text=function(a,c,d){a=b._engine.text(this,a||0,c||0,da(d));return this.__set__&&this.__set__.push(a),a};s.set=function(a){!b.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var c=new za(a);return this.__set__&&this.__set__.push(c),c.paper=this,c.type="set",c};s.setStart=function(a){this.__set__=a||this.set()};s.setFinish=function(){var a=this.__set__;return delete this.__set__,a};s.setSize=
function(a,c){return b._engine.setSize.call(this,a,c)};s.setViewBox=function(a,c,d,e,h){return b._engine.setViewBox.call(this,a,c,d,e,h)};s.top=s.bottom=null;s.raphael=b;s.getElementByPoint=function(a,b){var c,d,e=this.canvas,k=n.doc.elementFromPoint(a,b);if(n.win.opera&&"svg"==k.tagName){d=e.getBoundingClientRect();c=e.ownerDocument;var h=c.body,g=c.documentElement;c=d.top+(n.win.pageYOffset||g.scrollTop||h.scrollTop)-(g.clientTop||h.clientTop||0);d=d.left+(n.win.pageXOffset||g.scrollLeft||h.scrollLeft)-
(g.clientLeft||h.clientLeft||0);h=e.createSVGRect();h.x=a-d;h.y=b-c;h.width=h.height=1;c=e.getIntersectionList(h,null);c.length&&(k=c[c.length-1])}if(!k)return null;for(;k.parentNode&&k!=e.parentNode&&!k.raphael;)k=k.parentNode;return k==this.canvas.parentNode&&(k=e),k&&k.raphael?this.getById(k.raphaelid):null};s.getElementsByBBox=function(a){var c=this.set();return this.forEach(function(d){b.isBBoxIntersect(d.getBBox(),a)&&c.push(d)}),c};s.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;
b=b.next}return null};s.forEach=function(a,b){for(var c=this.bottom;c&&!1!==a.call(b,c);)c=c.next;return this};s.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c};E.isPointInside=function(a,c){var d=this.realPath=Ja[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(d=b.transformPath(d,this.attr("transform"))),b.isPointInsidePath(d,a,c)};E.getBBox=function(a){if(this.removed)return{};var b=this._;return a?
((b.dirty||!b.bboxwt)&&(this.realPath=Ja[this.type](this),b.bboxwt=Wa(this.realPath),b.bboxwt.toString=Z,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=Ja[this.type](this)),b.bbox=Wa(Ua(this.realPath,this.matrix)),b.bbox.toString=Z,b.dirty=b.dirtyT=0),b.bbox)};E.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a};E.glow=function(a){if("text"==this.type)return null;
a=a||{};var b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,d=a.opacity||0.5,e=a.offsetx||0,k=a.offsety||0;a=a.color||"#000";for(var h=b/2,g=this.paper,p=g.set(),n=this.realPath||Ja[this.type](this),n=this.matrix?Ua(n,this.matrix):n,l=1;h+1>l;l++)p.push(g.path(n).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/h*l).toFixed(3),opacity:+(d/h).toFixed(3)}));return p.insertBefore(this).translate(e,k)};var Za=function(a,c,d,e,h,k,g,q,n){return null==
n?p(a,c,d,e,h,k,g,q):b.findDotsAtSegment(a,c,d,e,h,k,g,q,fa(a,c,d,e,h,k,g,q,n))},$a=function(a,c){return function(d,e,h){d=ya(d);for(var k,g,q,p,n,l="",r={},s=0,w=0,y=d.length;y>w;w++){if(q=d[w],"M"==q[0])k=+q[1],g=+q[2];else{if(p=Za(k,g,q[1],q[2],q[3],q[4],q[5],q[6]),s+p>e){if(c&&!r.start){if(n=Za(k,g,q[1],q[2],q[3],q[4],q[5],q[6],e-s),l+=["C"+n.start.x,n.start.y,n.m.x,n.m.y,n.x,n.y],h)return l;r.start=l;l=["M"+n.x,n.y+"C"+n.n.x,n.n.y,n.end.x,n.end.y,q[5],q[6]].join();s+=p;k=+q[5];g=+q[6];continue}if(!a&&
!c)return n=Za(k,g,q[1],q[2],q[3],q[4],q[5],q[6],e-s),{x:n.x,y:n.y,alpha:n.alpha}}s+=p;k=+q[5];g=+q[6]}l+=q.shift()+q}return r.end=l,n=a?s:c?r:b.findDotsAtSegment(k,g,q[0],q[1],q[2],q[3],q[4],q[5],1),n.alpha&&(n={x:n.x,y:n.y,alpha:n.alpha}),n}},wb=$a(1),xb=$a(),ab=$a(0,1);b.getTotalLength=wb;b.getPointAtLength=xb;b.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return ab(a,b).end;a=ab(a,c,1);return b?ab(a,b).end:a};E.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?
this.node.getTotalLength():wb(a)};E.getPointAtLength=function(a){var b=this.getPath();if(b)return xb(b,a)};E.getPath=function(){var a,c=b._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return c&&(a=c(this)),a};E.getSubpath=function(a,c){var d=this.getPath();if(d)return b.getSubpath(d,a,c)};var ka=b.easing_formulas={linear:function(a){return a},"\x3c":function(a){return ja(a,1.7)},"\x3e":function(a){return ja(a,0.48)},"\x3c\x3e":function(a){var b=0.48-a/1.04,c=y.sqrt(0.1734+b*b);a=c-b;
a=ja(Y(a),1/3)*(0>a?-1:1);b=-c-b;b=ja(Y(b),1/3)*(0>b?-1:1);a=a+b+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==!!a?a:ja(2,-10*a)*y.sin(2*(a-0.075)*ea/0.3)+1},bounce:function(a){var b;return 1/2.75>a?b=7.5625*a*a:2/2.75>a?(a-=1.5/2.75,b=7.5625*a*a+0.75):2.5/2.75>a?(a-=2.25/2.75,b=7.5625*a*a+0.9375):(a-=2.625/2.75,b=7.5625*a*a+0.984375),b}};ka.easeIn=ka["ease-in"]=ka["\x3c"];ka.easeOut=
ka["ease-out"]=ka["\x3e"];ka.easeInOut=ka["ease-in-out"]=ka["\x3c\x3e"];ka["back-in"]=ka.backIn;ka["back-out"]=ka.backOut;var F=[],fb=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},Ra=function(){for(var a=+new Date,d=0;d<F.length;d++){var e=F[d];if(!e.el.removed&&!e.paused){var m,h,k=a-e.start,g=e.ms,q=e.easing,p=e.from,n=e.diff,l=e.to,r=(e.t,e.el),s={},w={};if(e.initstatus?(k=(e.initstatus*
e.anim.top-e.prev)/(e.percent-e.prev)*g,e.status=e.initstatus,delete e.initstatus,e.stop&&F.splice(d--,1)):e.status=(e.prev+(e.percent-e.prev)*(k/g))/e.anim.top,!(0>k))if(g>k){var y=q(k/g),t;for(t in p)if(p[V](t)){switch(Qa[t]){case aa:m=+p[t]+y*g*n[t];break;case "colour":m="rgb("+[bb(Sa(p[t].r+y*g*n[t].r)),bb(Sa(p[t].g+y*g*n[t].g)),bb(Sa(p[t].b+y*g*n[t].b))].join()+")";break;case "path":m=[];k=0;for(q=p[t].length;q>k;k++){m[k]=[p[t][k][0]];l=1;for(w=p[t][k].length;w>l;l++)m[k][l]=+p[t][k][l]+y*g*
n[t][k][l];m[k]=m[k].join(xa)}m=m.join(xa);break;case "transform":if(n[t].real)for(m=[],k=0,q=p[t].length;q>k;k++)for(m[k]=[p[t][k][0]],l=1,w=p[t][k].length;w>l;l++)m[k][l]=p[t][k][l]+y*g*n[t][k][l];else m=function(a){return+p[t][a]+y*g*n[t][a]},m=[["m",m(0),m(1),m(2),m(3),m(4),m(5)]];break;case "csv":if("clip-rect"==t)for(m=[],k=4;k--;)m[k]=+p[t][k]+y*g*n[t][k];break;default:for(q=[][N](p[t]),m=[],k=r.paper.customAttributes[t].length;k--;)m[k]=+q[k]+y*g*n[t][k]}s[t]=m}r.attr(s);(function(a,b,f){setTimeout(function(){c("raphael.anim.frame."+
a,b,f)})})(r.id,r,e.anim)}else{if(function(a,f,d){setTimeout(function(){c("raphael.anim.frame."+f.id,f,d);c("raphael.anim.finish."+f.id,f,d);b.is(a,"function")&&a.call(f)})}(e.callback,r,e.anim),r.attr(l),F.splice(d--,1),1<e.repeat&&!e.next){for(h in l)l[V](h)&&(w[h]=e.totalOrigin[h]);e.el.attr(w);K(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&K(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}b.svg&&r&&r.paper&&r.paper.safari();F.length&&fb(Ra)},bb=function(a){return 255<
a?255:0>a?0:a};E.animateWith=function(a,c,d,e,h,k){if(this.removed)return k&&k.call(this),this;d=d instanceof A?d:b.animation(d,e,h,k);K(d,this,d.percents[0],null,this.attr());d=0;for(e=F.length;e>d;d++)if(F[d].anim==c&&F[d].el==a){F[e-1].start=F[d].start;break}return this};E.onAnimation=function(a){return a?c.on("raphael.anim.frame."+this.id,a):c.unbind("raphael.anim.frame."+this.id),this};A.prototype.delay=function(a){var b=new A(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b};A.prototype.repeat=
function(a){var b=new A(this.anim,this.ms);return b.del=this.del,b.times=y.floor(O(a,0))||1,b};b.animation=function(a,c,d,e){if(a instanceof A)return a;(b.is(d,"function")||!d)&&(e=e||d||null,d=null);a=Object(a);c=+c||0;var h,k,g={};for(k in a)a[V](k)&&P(k)!=k&&P(k)+"%"!=k&&(h=!0,g[k]=a[k]);return h?(d&&(g.easing=d),e&&(g.callback=e),new A({100:g},c)):new A(a,c)};E.animate=function(a,c,d,e){if(this.removed)return e&&e.call(this),this;a=a instanceof A?a:b.animation(a,c,d,e);return K(a,this,a.percents[0],
null,this.attr()),this};E.setTime=function(a,b){return a&&null!=b&&this.status(a,S(b,a.ms)/a.ms),this};E.status=function(a,b){var c,d,e=[],k=0;if(null!=b)return K(a,this,-1,S(b,1)),this;for(c=F.length;c>k;k++)if(d=F[k],d.el.id==this.id&&(!a||d.anim==a)){if(a)return d.status;e.push({anim:d.anim,status:d.status})}return a?0:e};E.pause=function(a){for(var b=0;b<F.length;b++)F[b].el.id!=this.id||a&&F[b].anim!=a||!1!==c("raphael.anim.pause."+this.id,this,F[b].anim)&&(F[b].paused=!0);return this};E.resume=
function(a){for(var b=0;b<F.length;b++)if(F[b].el.id==this.id&&(!a||F[b].anim==a)){var d=F[b];!1!==c("raphael.anim.resume."+this.id,this,d.anim)&&(delete d.paused,this.status(d.anim,d.status))}return this};E.stop=function(a){for(var b=0;b<F.length;b++)F[b].el.id!=this.id||a&&F[b].anim!=a||!1!==c("raphael.anim.stop."+this.id,this,F[b].anim)&&F.splice(b--,1);return this};c.on("raphael.remove",G);c.on("raphael.clear",G);E.toString=function(){return"Rapha\ufffdl\ufffds object"};var za=function(a){if(this.items=
[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)!a[b]||a[b].constructor!=E.constructor&&a[b].constructor!=za||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},ba=za.prototype;ba.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],!a||a.constructor!=E.constructor&&a.constructor!=za||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this};ba.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};
ba.forEach=function(a,b){for(var c=0,d=this.items.length;d>c&&!1!==a.call(b,this.items[c],c);c++);return this};for(var cb in E)E[V](cb)&&(ba[cb]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][T](c,b)})}}(cb));return ba.attr=function(a,c){if(a&&b.is(a,ia)&&b.is(a[0],"object"))for(var d=0,e=a.length;e>d;d++)this.items[d].attr(a[d]);else for(d=0,e=this.items.length;e>d;d++)this.items[d].attr(a,c);return this},ba.clear=function(){for(;this.length;)this.pop()},ba.splice=
function(a,b){a=0>a?O(this.length+a,0):a;b=O(0,S(this.length-a,b));var c,d=[],e=[],k=[];for(c=2;c<arguments.length;c++)k.push(arguments[c]);for(c=0;b>c;c++)e.push(this[a+c]);for(;c<this.length-a;c++)d.push(this[a+c]);var h=k.length;for(c=0;c<h+d.length;c++)this.items[a+c]=this[a+c]=h>c?k[c]:d[c-h];for(c=this.items.length=this.length-=b-h;this[c];)delete this[c++];return new za(e)},ba.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},ba.animate=function(a,
c,d,e){!b.is(d,"function")&&d||(e=d||null);var h,k=this.items.length,g=k,p=this;if(!k)return this;e&&(h=function(){!--k&&e.call(p)});d=b.is(d,"string")?d:h;c=b.animation(a,c,d,h);for(a=this.items[--g].animate(c);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(a,c,c),this.items[g]&&!this.items[g].removed||k--;return this},ba.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},ba.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var k=
this.items[e].getBBox();a.push(k.x);b.push(k.y);c.push(k.x+k.width);d.push(k.y+k.height)}return a=S[T](0,a),b=S[T](0,b),c=O[T](0,c),d=O[T](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},ba.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},ba.toString=function(){return"Rapha\ufffdl\ufffds set"},ba.glow=function(a){var b=this.paper.set();return this.forEach(function(c){c=c.glow(a);null!=c&&c.forEach(function(a){b.push(a)})}),b},ba.isPointInside=
function(a,b){var c=!1;return this.forEach(function(d){return d.isPointInside(a,b)?(console.log("runned"),c=!0,!1):void 0}),c},b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"],d;for(d in a.face)a.face[V](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=ta(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[V](e)&&(c=a.glyphs[e],b.glyphs[e]={w:c.w,
k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var k in c.k)c[V](k)&&(b.glyphs[e].k[k]=c.k[k])}return a},s.getFont=function(a,c,d,e){if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,b.fonts){var h=b.fonts[a];if(!h){a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var k in b.fonts)if(b.fonts[V](k)&&a.test(k)){h=b.fonts[k];break}}var g;if(h)for(k=0,a=h.length;a>k&&
(g=h[k],g.face["font-weight"]!=c||g.face["font-style"]!=d&&g.face["font-style"]||g.face["font-stretch"]!=e);k++);return g}},s.print=function(a,c,d,e,h,k,g,p){k=k||"middle";g=O(S(g||0,1),-1);p=O(S(p||1,3),1);d=da(d)[ma]("");var n=0,s=0,l="";if(b.is(e,"string")&&(e=this.getFont(e)),e){h=(h||16)/e.face["units-per-em"];var r=e.face.bbox[ma](na),y=+r[0],w=r[3]-r[1],A=0;k=+r[1]+("baseline"==k?w+ +e.face.descent:w/2);for(var r=0,t=d.length;t>r;r++){if("\n"==d[r])s=u=n=0,A+=w*p;else var H=s&&e.glyphs[d[r-
1]]||{},u=e.glyphs[d[r]],n=n+(s?(H.w||e.w)+(H.k&&H.k[d[r]]||0)+e.w*g:0),s=1;u&&u.d&&(l+=b.transformPath(u.d,["t",n*h,A*h,"s",h,h,y,k,"t",(a-y)/h,(c-k)/h]))}}return this.path(l).attr({fill:"#000",stroke:"none"})},s.add=function(a){if(b.is(a,"array"))for(var c,d=this.set(),e=0,h=a.length;h>e;e++)c=a[e]||{},ha[V](c.type)&&d.push(this[c.type]().attr(c));return d},b.format=function(a,c){var d=b.is(c,ia)?[0][N](c):arguments;return a&&b.is(a,"string")&&d.length-1&&(a=a.replace(Aa,function(a,b){return null==
d[++b]?"":d[b]})),a||""},b.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var f=d;return c.replace(b,function(a,b,c,d,e){b=b||d;f&&(b in f&&(f=f[b]),"function"==typeof f&&e&&(f=f()))}),f=(null==f||f==d?a:f)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),b.ninja=function(){return gb?n.win.Raphael=Db:delete Raphael,b},b.st=ba,function(a,c,d){function e(){/in/.test(a.readyState)?setTimeout(e,
9):b.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(c,d=function(){a.removeEventListener(c,d,!1);a.readyState="complete"},!1),a.readyState="loading");e()}(document,"DOMContentLoaded"),c.on("raphael.DOMload",function(){Q=!0}),function(){if(b.svg){var a=String,c=parseFloat,d=parseInt,e=Math,h=e.max,k=e.abs,g=e.pow,p=/[, ]+/,n=b.eve,s={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},
l={};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\ufffdl "+this.version};var r=function(c,d){if(d){"string"==typeof c&&(c=r(c));for(var e in d)d.hasOwnProperty(e)&&("xlink:"==e.substring(0,6)?c.setAttributeNS("http://www.w3.org/1999/xlink",e.substring(6),a(d[e])):c.setAttribute(e,a(d[e])))}else c=b._g.doc.createElementNS("http://www.w3.org/2000/svg",c),c.style&&(c.style.webkitTapHighlightColor="rgba(0,0,0,0)");return c},y=function(d,p){var q="linear",C=d.id+p,R=0.5,
I=0.5,v=d.node,ca=d.paper,n=v.style,l=b._g.doc.getElementById(C);if(!l){if(p=a(p).replace(b._radial_gradient,function(a,b,d){if(q="radial",b&&d)R=c(b),I=c(d),a=2*(0.5<I)-1,0.25<g(R-0.5,2)+g(I-0.5,2)&&(I=e.sqrt(0.25-g(R-0.5,2))*a+0.5)&&0.5!=I&&(I=I.toFixed(5)-1E-5*a);return""}),p=p.split(/\s*\-\s*/),"linear"==q){l=p.shift();if(l=-c(l),isNaN(l))return null;var t=[0,0,e.cos(b.rad(l)),e.sin(b.rad(l))],l=1/(h(k(t[2]),k(t[3]))||1);t[2]*=l;t[3]*=l;0>t[2]&&(t[0]=-t[2],t[2]=0);0>t[3]&&(t[1]=-t[3],t[3]=0)}var s=
b._parseDots(p);if(!s)return null;if(C=C.replace(/[\(\)\s,\xb0#]/g,"_"),d.gradient&&C!=d.gradient.id&&(ca.defs.removeChild(d.gradient),delete d.gradient),!d.gradient)for(l=r(q+"Gradient",{id:C}),d.gradient=l,r(l,"radial"==q?{fx:R,fy:I}:{x1:t[0],y1:t[1],x2:t[2],y2:t[3],gradientTransform:d.matrix.invert()}),ca.defs.appendChild(l),ca=0,t=s.length;t>ca;ca++)l.appendChild(r("stop",{offset:s[ca].offset?s[ca].offset:ca?"100%":"0%","stop-color":s[ca].color||"#fff"}))}return r(v,{fill:"url(#"+C+")",opacity:1,
"fill-opacity":1}),n.fill="",n.opacity=1,n.fillOpacity=1,1},w=function(a){var b=a.getBBox(1);r(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},A=function(c,d,e){if("path"==c.type){for(var C,h,k,g,m,p=a(d).toLowerCase().split("-"),q=c.paper,n=e?"end":"start",t=c.node,u=c.attrs,w=u["stroke-width"],x=p.length,y="classic",z=3,A=3,D=5;x--;)switch(p[x]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":y=p[x];break;case "wide":A=5;break;case "narrow":A=
2;break;case "long":z=5;break;case "short":z=2}if("open"==y?(z+=2,A+=2,D+=2,k=1,g=e?4:1,m={fill:"none",stroke:u.stroke}):(g=k=z/2,m={fill:u.stroke,stroke:"none"}),c._.arrows?e?(c._.arrows.endPath&&l[c._.arrows.endPath]--,c._.arrows.endMarker&&l[c._.arrows.endMarker]--):(c._.arrows.startPath&&l[c._.arrows.startPath]--,c._.arrows.startMarker&&l[c._.arrows.startMarker]--):c._.arrows={},"none"!=y){p="raphael-marker-"+y;x="raphael-marker-"+n+y+z+A;b._g.doc.getElementById(p)?l[p]++:(q.defs.appendChild(r(r("path"),
{"stroke-linecap":"round",d:s[y],id:p})),l[p]=1);var B,K=b._g.doc.getElementById(x);K?(l[x]++,B=K.getElementsByTagName("use")[0]):(K=r(r("marker"),{id:x,markerHeight:A,markerWidth:z,orient:"auto",refX:g,refY:A/2}),B=r(r("use"),{"xlink:href":"#"+p,transform:(e?"rotate(180 "+z/2+" "+A/2+") ":"")+"scale("+z/D+","+A/D+")","stroke-width":(1/((z/D+A/D)/2)).toFixed(4)}),K.appendChild(B),q.defs.appendChild(K),l[x]=1);r(B,m);k*="diamond"!=y&&"oval"!=y;e?(C=c._.arrows.startdx*w||0,h=b.getTotalLength(u.path)-
k*w):(C=k*w,h=b.getTotalLength(u.path)-(c._.arrows.enddx*w||0));m={};m["marker-"+n]="url(#"+x+")";(h||C)&&(m.d=b.getSubpath(u.path,C,h));r(t,m);c._.arrows[n+"Path"]=p;c._.arrows[n+"Marker"]=x;c._.arrows[n+"dx"]=k;c._.arrows[n+"Type"]=y;c._.arrows[n+"String"]=d}else e?(C=c._.arrows.startdx*w||0,h=b.getTotalLength(u.path)-C):(C=0,h=b.getTotalLength(u.path)-(c._.arrows.enddx*w||0)),c._.arrows[n+"Path"]&&r(t,{d:b.getSubpath(u.path,C,h)}),delete c._.arrows[n+"Path"],delete c._.arrows[n+"Marker"],delete c._.arrows[n+
"dx"],delete c._.arrows[n+"Type"],delete c._.arrows[n+"String"];for(m in l)l.hasOwnProperty(m)&&!l[m]&&(c=b._g.doc.getElementById(m))&&c.parentNode.removeChild(c)}},t={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},H=function(b,c,d){if(c=t[a(c).toLowerCase()]){var e=b.attrs["stroke-width"]||"1";d={round:e,square:e,butt:0}[b.attrs["stroke-linecap"]||d["stroke-linecap"]]||0;for(var h=[],k=
c.length;k--;)h[k]=c[k]*e+(k%2?1:-1)*d;r(b.node,{"stroke-dasharray":h.join(",")})}},u=function(c,e){var g=c.node,C=c.attrs,R=g.style.visibility;g.style.visibility="hidden";for(var I in e)if(e.hasOwnProperty(I)&&b._availableAttrs.hasOwnProperty(I)){var v=e[I];switch(C[I]=v,I){case "blur":c.blur(v);break;case "href":case "title":var m=r("title"),v=b._g.doc.createTextNode(v);m.appendChild(v);g.appendChild(m);break;case "target":var n=g.parentNode;"a"!=n.tagName.toLowerCase()&&(m=r("a"),n.insertBefore(m,
g),m.appendChild(g),n=m);"target"==I?n.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==v?"new":v):n.setAttributeNS("http://www.w3.org/1999/xlink",I,v);break;case "cursor":g.style.cursor=v;break;case "transform":c.transform(v);break;case "arrow-start":A(c,v);break;case "arrow-end":A(c,v,1);break;case "clip-rect":m=a(v).split(p);if(4==m.length){c.clip&&c.clip.parentNode.parentNode.removeChild(c.clip.parentNode);var n=r("clipPath"),l=r("rect");n.id=b.createUUID();r(l,{x:m[0],y:m[1],width:m[2],
height:m[3]});n.appendChild(l);c.paper.defs.appendChild(n);r(g,{"clip-path":"url(#"+n.id+")"});c.clip=l}!v&&(v=g.getAttribute("clip-path"))&&((v=b._g.doc.getElementById(v.replace(/(^url\(#|\)$)/g,"")))&&v.parentNode.removeChild(v),r(g,{"clip-path":""}),delete c.clip);break;case "path":"path"==c.type&&(r(g,{d:v?C.path=b._pathToAbsolute(v):"M0,0"}),c._.dirty=1,c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1)));break;case "width":if(g.setAttribute(I,
v),c._.dirty=1,!C.fx)break;I="x";v=C.x;case "x":C.fx&&(v=-C.x-(C.width||0));case "rx":if("rx"==I&&"rect"==c.type)break;case "cx":g.setAttribute(I,v);c.pattern&&w(c);c._.dirty=1;break;case "height":if(g.setAttribute(I,v),c._.dirty=1,!C.fy)break;I="y";v=C.y;case "y":C.fy&&(v=-C.y-(C.height||0));case "ry":if("ry"==I&&"rect"==c.type)break;case "cy":g.setAttribute(I,v);c.pattern&&w(c);c._.dirty=1;break;case "r":"rect"==c.type?r(g,{rx:v,ry:v}):g.setAttribute(I,v);c._.dirty=1;break;case "src":"image"==c.type&&
g.setAttributeNS("http://www.w3.org/1999/xlink","href",v);break;case "stroke-width":1==c._.sx&&1==c._.sy||(v/=h(k(c._.sx),k(c._.sy))||1);c.paper._vbSize&&(v*=c.paper._vbSize);g.setAttribute(I,v);C["stroke-dasharray"]&&H(c,C["stroke-dasharray"],e);c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "stroke-dasharray":H(c,v,e);break;case "fill":var t=a(v).match(b._ISURL);if(t){var n=r("pattern"),s=r("image");n.id=b.createUUID();
r(n,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});r(s,{x:0,y:0,"xlink:href":t[1]});n.appendChild(s);(function(a){b._preload(t[1],function(){var b=this.offsetWidth,d=this.offsetHeight;r(a,{width:b,height:d});r(s,{width:b,height:d});c.paper.safari()})})(n);c.paper.defs.appendChild(n);r(g,{fill:"url(#"+n.id+")"});c.pattern=n;c.pattern&&w(c);break}m=b.getRGB(v);if(m.error){if(("circle"==c.type||"ellipse"==c.type||"r"!=a(v).charAt())&&y(c,v)){if("opacity"in C||"fill-opacity"in C)if(m=b._g.doc.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,
""))){var u=m.getElementsByTagName("stop");r(u[u.length-1],{"stop-opacity":("opacity"in C?C.opacity:1)*("fill-opacity"in C?C["fill-opacity"]:1)})}C.gradient=v;C.fill="none";break}}else delete e.gradient,delete C.gradient,!b.is(C.opacity,"undefined")&&b.is(e.opacity,"undefined")&&r(g,{opacity:C.opacity}),!b.is(C["fill-opacity"],"undefined")&&b.is(e["fill-opacity"],"undefined")&&r(g,{"fill-opacity":C["fill-opacity"]});m.hasOwnProperty("opacity")&&r(g,{"fill-opacity":1<m.opacity?m.opacity/100:m.opacity});
case "stroke":m=b.getRGB(v);g.setAttribute(I,m.hex);"stroke"==I&&m.hasOwnProperty("opacity")&&r(g,{"stroke-opacity":1<m.opacity?m.opacity/100:m.opacity});"stroke"==I&&c._.arrows&&("startString"in c._.arrows&&A(c,c._.arrows.startString),"endString"in c._.arrows&&A(c,c._.arrows.endString,1));break;case "gradient":"circle"!=c.type&&"ellipse"!=c.type&&"r"==a(v).charAt()||y(c,v);break;case "opacity":C.gradient&&!C.hasOwnProperty("stroke-opacity")&&r(g,{"stroke-opacity":1<v?v/100:v});case "fill-opacity":if(C.gradient){(m=
b._g.doc.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(u=m.getElementsByTagName("stop"),r(u[u.length-1],{"stop-opacity":v}));break}default:"font-size"==I&&(v=d(v,10)+"px"),m=I.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),g.style[m]=v,c._.dirty=1,g.setAttribute(I,v)}}K(c,e);g.style.visibility=R},K=function(c,e){if("text"==c.type&&(e.hasOwnProperty("text")||e.hasOwnProperty("font")||e.hasOwnProperty("font-size")||e.hasOwnProperty("x")||e.hasOwnProperty("y"))){var h=
c.attrs,C=c.node,k=C.firstChild?d(b._g.doc.defaultView.getComputedStyle(C.firstChild,"").getPropertyValue("font-size"),10):10;if(e.hasOwnProperty("text")){for(h.text=e.text;C.firstChild;)C.removeChild(C.firstChild);for(var g,m=a(e.text).split("\n"),p=[],n=0,l=m.length;l>n;n++)g=r("tspan"),n&&r(g,{dy:1.2*k,x:h.x}),g.appendChild(b._g.doc.createTextNode(m[n])),C.appendChild(g),p[n]=g}else for(p=C.getElementsByTagName("tspan"),n=0,l=p.length;l>n;n++)n?r(p[n],{dy:1.2*k,x:h.x}):r(p[0],{dy:0});r(C,{x:h.x,
y:h.y});c._.dirty=1;C=c._getBBox();(h=h.y-(C.y+C.height/2))&&b.is(h,"finite")&&r(p[0],{dy:h})}},x=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=this.id;this.matrix=b.matrix();this.realPath=null;this.paper=c;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},B=b.el;x.prototype=B;B.constructor=x;b._engine.path=function(a,b){var c=r("path");b.canvas&&
b.canvas.appendChild(c);c=new x(c,b);return c.type="path",u(c,{fill:"none",stroke:"#000",path:a}),c};B.rotate=function(b,d,e){if(this.removed)return this;if(b=a(b).split(p),b.length-1&&(d=c(b[1]),e=c(b[2])),b=c(b[0]),null==e&&(d=e),null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;return this.transform(this._.transform.concat([["r",b,d,e]])),this};B.scale=function(b,d,e,h){if(this.removed)return this;if(b=a(b).split(p),b.length-1&&(d=c(b[1]),e=c(b[2]),h=c(b[3])),b=c(b[0]),null==
d&&(d=b),null==h&&(e=h),null==e||null==h)var k=this.getBBox(1);return e=null==e?k.x+k.width/2:e,h=null==h?k.y+k.height/2:h,this.transform(this._.transform.concat([["s",b,d,e,h]])),this};B.translate=function(b,d){return this.removed?this:(b=a(b).split(p),b.length-1&&(d=c(b[1])),b=c(b[0])||0,d=+d||0,this.transform(this._.transform.concat([["t",b,d]])),this)};B.transform=function(a){var c=this._;if(null==a)return c.transform;if(b._extractTransform(this,a),this.clip&&r(this.clip,{transform:this.matrix.invert()}),
this.pattern&&w(this),this.node&&r(this.node,{transform:this.matrix}),1!=c.sx||1!=c.sy)a=this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":a});return this};B.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this};B.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this};B.remove=function(){if(!this.removed&&this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this);
n.unbind("raphael.*.*."+this.id);this.gradient&&a.defs.removeChild(this.gradient);b._tear(this,a);"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var c in this)this[c]="function"==typeof this[c]?b._removedFactory(c):null;this.removed=!0}};B._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&
this.hide(),b};B.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(d[f]=this.attrs[f]);return d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient,d.transform=this._.transform,d}if(null==c&&b.is(a,"string")){if("fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==a)return this._.transform;f=a.split(p);for(var d={},e=0,h=f.length;h>e;e++)a=f[e],d[a]=a in this.attrs?this.attrs[a]:
b.is(this.paper.customAttributes[a],"function")?this.paper.customAttributes[a].def:b._availableAttrs[a];return h-1?d:d[f[0]]}if(null==c&&b.is(a,"array")){d={};e=0;for(h=a.length;h>e;e++)d[a[e]]=this.attr(a[e]);return d}null!=c?(d={},d[a]=c):null!=a&&b.is(a,"object")&&(d=a);for(e in d)n("raphael.attr."+e+"."+this.id,this,d[e]);for(e in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(e)&&d.hasOwnProperty(e)&&b.is(this.paper.customAttributes[e],"function"))for(h in f=this.paper.customAttributes[e].apply(this,
[].concat(d[e])),this.attrs[e]=d[e],f)f.hasOwnProperty(h)&&(d[h]=f[h]);return u(this,d),this};B.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;return a.top!=this&&b._tofront(this,a),this};B.toBack=function(){if(this.removed)return this;var a=this.node.parentNode;return"a"==a.tagName.toLowerCase()?a.parentNode.insertBefore(this.node.parentNode,
this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild),b._toback(this,this.paper),this.paper,this};B.insertAfter=function(a){if(this.removed)return this;var c=a.node||a[a.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),b._insertafter(this,a,this.paper),this};B.insertBefore=function(a){if(this.removed)return this;var c=a.node||a[0].node;return c.parentNode.insertBefore(this.node,
c),b._insertbefore(this,a,this.paper),this};B.blur=function(a){if(0!==+a){var c=r("filter"),d=r("feGaussianBlur");this.attrs.blur=a;c.id=b.createUUID();r(d,{stdDeviation:+a||1.5});c.appendChild(d);this.paper.defs.appendChild(c);this._blur=c;r(this.node,{filter:"url(#"+c.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this};b._engine.circle=function(a,b,c,d){var f=r("circle");a.canvas&&a.canvas.appendChild(f);
a=new x(f,a);return a.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},a.type="circle",r(f,a.attrs),a};b._engine.rect=function(a,b,c,d,f,e){var h=r("rect");a.canvas&&a.canvas.appendChild(h);a=new x(h,a);return a.attrs={x:b,y:c,width:d,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",stroke:"#000"},a.type="rect",r(h,a.attrs),a};b._engine.ellipse=function(a,b,c,d,f){var e=r("ellipse");a.canvas&&a.canvas.appendChild(e);a=new x(e,a);return a.attrs={cx:b,cy:c,rx:d,ry:f,fill:"none",stroke:"#000"},a.type="ellipse",
r(e,a.attrs),a};b._engine.image=function(a,b,c,d,f,e){var h=r("image");r(h,{x:c,y:d,width:f,height:e,preserveAspectRatio:"none"});h.setAttributeNS("http://www.w3.org/1999/xlink","href",b);a.canvas&&a.canvas.appendChild(h);a=new x(h,a);return a.attrs={x:c,y:d,width:f,height:e,src:b},a.type="image",a};b._engine.text=function(a,c,d,f){var e=r("text");a.canvas&&a.canvas.appendChild(e);a=new x(e,a);return a.attrs={x:c,y:d,"text-anchor":"middle",text:f,font:b._availableAttrs.font,stroke:"none",fill:"#000"},
a.type="text",u(a,a.attrs),a};b._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a&&a.container,d=a.x,f=a.y,e=a.width,a=a.height;if(!c)throw Error("SVG container not found.");var h,k=r("svg");return d=d||0,f=f||0,e=e||512,a=a||342,r(k,
{height:a,version:1.1,width:e,xmlns:"http://www.w3.org/2000/svg"}),1==c?(k.style.cssText="overflow:hidden;position:absolute;left:"+d+"px;top:"+f+"px",b._g.doc.body.appendChild(k),h=1):(k.style.cssText="overflow:hidden;position:relative",c.firstChild?c.insertBefore(k,c.firstChild):c.appendChild(k)),c=new b._Paper,c.width=e,c.height=a,c.canvas=k,c.clear(),c._left=c._top=0,h&&(c.renderfix=function(){}),c.renderfix(),c};b._engine.setViewBox=function(a,b,c,d,f){n("raphael.setViewBox",this,this._viewBox,
[a,b,c,d,f]);var e,k=h(c/this.width,d/this.height),g=this.top,m=f?"meet":"xMinYMin";null==a?(this._vbSize&&(k=1),delete this._vbSize,e="0 0 "+this.width+" "+this.height):(this._vbSize=k,e=a+" "+b+" "+c+" "+d);for(r(this.canvas,{viewBox:e,preserveAspectRatio:m});k&&g;)e="stroke-width"in g.attrs?g.attrs["stroke-width"]:1,g.attr({"stroke-width":e}),g._.dirty=1,g._.dirtyT=1,g=g.prev;return this._viewBox=[a,b,c,d,!!f],this};b.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||
b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}b=-a.e%1;a=-a.f%1;(b||a)&&(b&&(this._left=(this._left+b)%1,c.left=this._left+"px"),a&&(this._top=(this._top+a)%1,c.top=this._top+"px"))};b.prototype.clear=function(){b.eve("raphael.clear",this);for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=r("desc")).appendChild(b._g.doc.createTextNode("Created with Rapha\ufffdl "+b.version));a.appendChild(this.desc);a.appendChild(this.defs=r("defs"))};b.prototype.remove=
function(){n("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):null};var F=b.st,J;for(J in B)B.hasOwnProperty(J)&&!F.hasOwnProperty(J)&&(F[J]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(J))}}(),function(){if(b.vml){var a=String,c=parseFloat,d=Math,e=d.round,h=d.max,k=d.min,g=d.abs,p=/[, ]+/,n=b.eve,s={M:"m",L:"l",C:"c",Z:"x",m:"t",
l:"r",c:"v",z:"x"},l=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,w={path:1,rect:1,image:1},A={circle:1,ellipse:1},t=function(c){var d=/[ahqstv]/gi,h=b._pathToAbsolute;if(a(c).match(d)&&(h=b._path2curve),d=/[clmz]/g,h==b._pathToAbsolute&&!a(c).match(d))return c=a(c).replace(l,function(a,b,c){var d=[],f="m"==b.toLowerCase(),h=s[b];return c.replace(y,function(a){f&&2==d.length&&(h+=d+s["m"==b?"l":"L"],d=[]);d.push(e(21600*a))}),h+d});var k=h(c);c=[];for(var g=0,p=k.length;p>
g;g++){d=k[g];h=k[g][0].toLowerCase();"z"==h&&(h="x");for(var n=1,q=d.length;q>n;n++)h+=e(21600*d[n])+(n!=q-1?",":"");c.push(h)}return c.join(" ")},K=function(a,c,d){var f=b.matrix();return f.rotate(-a,0.5,0.5),{dx:f.x(c,d),dy:f.y(c,d)}},u=function(a,b,c,d,f,e){var h=a._,k=a.matrix,m=h.fillpos;a=a.node;var p=a.style,n=1,l="",q=21600/b,t=21600/c;if(p.visibility="hidden",b&&c){if(a.coordsize=g(q)+" "+g(t),p.rotation=e*(0>b*c?-1:1),e){var r=K(e,d,f);d=r.dx;f=r.dy}if(0>b&&(l+="x"),0>c&&(l+=" y")&&(n=
-1),p.flip=l,a.coordorigin=d*-q+" "+f*-t,m||h.fillsize)d=(d=a.getElementsByTagName("fill"))&&d[0],a.removeChild(d),m&&(r=K(e,k.x(m[0],m[1]),k.y(m[0],m[1])),d.position=r.dx*n+" "+r.dy*n),h.fillsize&&(d.size=h.fillsize[0]*g(b)+" "+h.fillsize[1]*g(c)),a.appendChild(d);p.visibility="visible"}};b.toString=function(){return"Your browser doesn\ufffdt support SVG. Falling down to VML.\nYou are running Rapha\ufffdl "+this.version};var F=function(b,c,d){c=a(c).toLowerCase().split("-");d=d?"end":"start";for(var e=
c.length,h="classic",k="medium",g="medium";e--;)switch(c[e]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":h=c[e];break;case "wide":case "narrow":g=c[e];break;case "long":case "short":k=c[e]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=h;b[d+"arrowlength"]=k;b[d+"arrowwidth"]=g},x=function(d,g){d.attrs=d.attrs||{};var n=d.node,v=d.attrs,l=n.style,r=w[d.type]&&(g.x!=v.x||g.y!=v.y||g.width!=v.width||g.height!=v.height||g.cx!=v.cx||g.cy!=v.cy||g.rx!=v.rx||
g.ry!=v.ry||g.r!=v.r),s=A[d.type]&&(v.cx!=g.cx||v.cy!=g.cy||v.r!=g.r||v.rx!=g.rx||v.ry!=g.ry),x;for(x in g)g.hasOwnProperty(x)&&(v[x]=g[x]);if(r&&(v.path=b._getPath[d.type](d),d._.dirty=1),g.href&&(n.href=g.href),g.title&&(n.title=g.title),g.target&&(n.target=g.target),g.cursor&&(l.cursor=g.cursor),"blur"in g&&d.blur(g.blur),(g.path&&"path"==d.type||r)&&(n.path=t(~a(v.path).toLowerCase().indexOf("r")?b._pathToAbsolute(v.path):v.path),"image"==d.type&&(d._.fillpos=[v.x,v.y],d._.fillsize=[v.width,v.height],
u(d,1,1,0,0,0))),"transform"in g&&d.transform(g.transform),s)l=+v.cx,r=+v.cy,s=+v.rx||+v.r||0,x=+v.ry||+v.r||0,n.path=b.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",e(21600*(l-s)),e(21600*(r-x)),e(21600*(l+s)),e(21600*(r+x)),e(21600*l)),d._.dirty=1;"clip-rect"in g&&(l=a(g["clip-rect"]).split(p),4==l.length&&(l[2]=+l[2]+ +l[0],l[3]=+l[3]+ +l[1],r=n.clipRect||b._g.doc.createElement("div"),s=r.style,s.clip=b.format("rect({1}px {2}px {3}px {0}px)",l),n.clipRect||(s.position="absolute",s.top=0,s.left=0,
s.width=d.paper.width+"px",s.height=d.paper.height+"px",n.parentNode.insertBefore(r,n),r.appendChild(n),n.clipRect=r)),g["clip-rect"]||n.clipRect&&(n.clipRect.style.clip="auto"));d.textpath&&(l=d.textpath.style,g.font&&(l.font=g.font),g["font-family"]&&(l.fontFamily='"'+g["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),g["font-size"]&&(l.fontSize=g["font-size"]),g["font-weight"]&&(l.fontWeight=g["font-weight"]),g["font-style"]&&(l.fontStyle=g["font-style"]));if("arrow-start"in g&&F(d,
g["arrow-start"]),"arrow-end"in g&&F(d,g["arrow-end"],1),null!=g.opacity||null!=g["stroke-width"]||null!=g.fill||null!=g.src||null!=g.stroke||null!=g["stroke-width"]||null!=g["stroke-opacity"]||null!=g["fill-opacity"]||null!=g["stroke-dasharray"]||null!=g["stroke-miterlimit"]||null!=g["stroke-linejoin"]||null!=g["stroke-linecap"]){l=n.getElementsByTagName("fill");if(l=l&&l[0],!l&&(l=G("fill")),"image"==d.type&&g.src&&(l.src=g.src),g.fill&&(l.on=!0),(null==l.on||"none"==g.fill||null===g.fill)&&(l.on=
!1),l.on&&g.fill)(r=a(g.fill).match(b._ISURL))?(l.parentNode==n&&n.removeChild(l),l.rotate=!0,l.src=r[1],l.type="tile",s=d.getBBox(1),l.position=s.x+" "+s.y,d._.fillpos=[s.x,s.y],b._preload(r[1],function(){d._.fillsize=[this.offsetWidth,this.offsetHeight]})):(l.color=b.getRGB(g.fill).hex,l.src="",l.type="solid",b.getRGB(g.fill).error&&(d.type in{circle:1,ellipse:1}||"r"!=a(g.fill).charAt())&&B(d,g.fill,l)&&(v.fill="none",v.gradient=g.fill,l.rotate=!1));if("fill-opacity"in g||"opacity"in g)s=((+v["fill-opacity"]+
1||2)-1)*((+v.opacity+1||2)-1)*((+b.getRGB(g.fill).o+1||2)-1),s=k(h(s,0),1),l.opacity=s,l.src&&(l.color="none");n.appendChild(l);l=n.getElementsByTagName("stroke")&&n.getElementsByTagName("stroke")[0];r=!1;!l&&(r=l=G("stroke"));(g.stroke&&"none"!=g.stroke||g["stroke-width"]||null!=g["stroke-opacity"]||g["stroke-dasharray"]||g["stroke-miterlimit"]||g["stroke-linejoin"]||g["stroke-linecap"])&&(l.on=!0);"none"!=g.stroke&&null!==g.stroke&&null!=l.on&&0!=g.stroke&&0!=g["stroke-width"]||(l.on=!1);s=b.getRGB(g.stroke);
l.on&&g.stroke&&(l.color=s.hex);s=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+s.o+1||2)-1);x=0.75*(c(g["stroke-width"])||1);if(s=k(h(s,0),1),null==g["stroke-width"]&&(x=v["stroke-width"]),g["stroke-width"]&&(l.weight=x),x&&1>x&&(s*=x)&&(l.weight=1),l.opacity=s,g["stroke-linejoin"]&&(l.joinstyle=g["stroke-linejoin"]||"miter"),l.miterlimit=g["stroke-miterlimit"]||8,g["stroke-linecap"]&&(l.endcap="butt"==g["stroke-linecap"]?"flat":"square"==g["stroke-linecap"]?"square":"round"),g["stroke-dasharray"])s=
{"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},l.dashstyle=s.hasOwnProperty(g["stroke-dasharray"])?s[g["stroke-dasharray"]]:"";r&&n.appendChild(l)}if("text"==d.type){d.paper.canvas.style.display="";n=d.paper.span;r=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);l=n.style;v.font&&(l.font=v.font);v["font-family"]&&(l.fontFamily=v["font-family"]);v["font-weight"]&&(l.fontWeight=
v["font-weight"]);v["font-style"]&&(l.fontStyle=v["font-style"]);r=c(v["font-size"]||r&&r[0])||10;l.fontSize=100*r+"px";d.textpath.string&&(n.innerHTML=a(d.textpath.string).replace(/</g,"\x26#60;").replace(/&/g,"\x26#38;").replace(/\n/g,"\x3cbr\x3e"));n=n.getBoundingClientRect();d.W=v.w=(n.right-n.left)/100;d.H=v.h=(n.bottom-n.top)/100;d.X=v.x;d.Y=v.y+d.H/2;("x"in g||"y"in g)&&(d.path.v=b.format("m{0},{1}l{2},{1}",e(21600*v.x),e(21600*v.y),e(21600*v.x)+1));n="x y text font font-family font-weight font-style font-size".split(" ");
l=0;for(r=n.length;r>l;l++)if(n[l]in g){d._.dirty=1;break}switch(v["text-anchor"]){case "start":d.textpath.style["v-text-align"]="left";d.bbx=d.W/2;break;case "end":d.textpath.style["v-text-align"]="right";d.bbx=-d.W/2;break;default:d.textpath.style["v-text-align"]="center",d.bbx=0}d.textpath.style["v-text-kern"]=!0}},B=function(e,g,h){e.attrs=e.attrs||{};var k=(e.attrs,Math.pow),m="linear",l=".5 .5";if(e.attrs.gradient=g,g=a(g).replace(b._radial_gradient,function(a,b,e){return m="radial",b&&e&&(b=
c(b),e=c(e),0.25<k(b-0.5,2)+k(e-0.5,2)&&(e=d.sqrt(0.25-k(b-0.5,2))*(2*(0.5<e)-1)+0.5),l=b+" "+e),""}),g=g.split(/\s*\-\s*/),"linear"==m){var n=g.shift();if(n=-c(n),isNaN(n))return null}g=b._parseDots(g);if(!g)return null;if(e=e.shape||e.node,g.length){e.removeChild(h);h.on=!0;h.method="none";h.color=g[0].color;h.color2=g[g.length-1].color;for(var p=[],q=0,r=g.length;r>q;q++)g[q].offset&&p.push(g[q].offset+" "+g[q].color);h.colors=p.length?p.join():"0% "+h.color;"radial"==m?(h.type="gradientTitle",
h.focus="100%",h.focussize="0 0",h.focusposition=l,h.angle=0):(h.type="gradient",h.angle=(270-n)%360);e.appendChild(h)}return 1},J=function(a,c){this[0]=this.node=a;a.raphael=!0;this.id=b._oid++;a.raphaelid=this.id;this.Y=this.X=0;this.attrs={};this.paper=c;this.matrix=b.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!c.bottom&&(c.bottom=this);(this.prev=c.top)&&(c.top.next=this);c.top=this;this.next=null},E=b.el;J.prototype=E;E.constructor=J;E.transform=function(c){if(null==
c)return this._.transform;var d,e=this.paper._viewBoxShift,g=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:"";e&&(d=c=a(c).replace(/\.{3}|\u2026/g,this._.transform||""));b._extractTransform(this,g+c);var h,e=this.matrix.clone(),g=this.skew;c=this.node;var k=~a(this.attrs.fill).indexOf("-"),m=!a(this.attrs.fill).indexOf("url(");(e.translate(1,1),m||k||"image"==this.type)?(g.matrix="1 0 0 1",g.offset="0 0",h=e.split(),k&&h.noRotation||!h.isSimple)?(c.style.filter=e.toFilter(),e=this.getBBox(),g=this.getBBox(1),
h=e.x-g.x,e=e.y-g.y,c.coordorigin=-21600*h+" "+-21600*e,u(this,1,1,h,e,0)):(c.style.filter="",u(this,h.scalex,h.scaley,h.dx,h.dy,h.rotate)):(c.style.filter="",g.matrix=a(e),g.offset=e.offset());return d&&(this._.transform=d),this};E.rotate=function(b,d,e){if(this.removed)return this;if(null!=b){if(b=a(b).split(p),b.length-1&&(d=c(b[1]),e=c(b[2])),b=c(b[0]),null==e&&(d=e),null==d||null==e)e=this.getBBox(1),d=e.x+e.width/2,e=e.y+e.height/2;return this._.dirtyT=1,this.transform(this._.transform.concat([["r",
b,d,e]])),this}};E.translate=function(b,d){return this.removed?this:(b=a(b).split(p),b.length-1&&(d=c(b[1])),b=c(b[0])||0,d=+d||0,this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=d),this.transform(this._.transform.concat([["t",b,d]])),this)};E.scale=function(b,d,e,g){if(this.removed)return this;if(b=a(b).split(p),b.length-1&&(d=c(b[1]),e=c(b[2]),g=c(b[3]),isNaN(e)&&(e=null),isNaN(g)&&(g=null)),b=c(b[0]),null==d&&(d=b),null==g&&(e=g),null==e||null==g)var h=this.getBBox(1);return e=null==e?h.x+h.width/
2:e,g=null==g?h.y+h.height/2:g,this.transform(this._.transform.concat([["s",b,d,e,g]])),this._.dirtyT=1,this};E.hide=function(){return!this.removed&&(this.node.style.display="none"),this};E.show=function(){return!this.removed&&(this.node.style.display=""),this};E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);b.eve.unbind("raphael.*.*."+
this.id);b._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):null;this.removed=!0}};E.attr=function(a,c){if(this.removed)return this;if(null==a){var d={},e;for(e in this.attrs)this.attrs.hasOwnProperty(e)&&(d[e]=this.attrs[e]);return d.gradient&&"none"==d.fill&&(d.fill=d.gradient)&&delete d.gradient,d.transform=this._.transform,d}if(null==c&&b.is(a,"string")){if("fill"==
a&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;e=a.split(p);for(var d={},f=0,g=e.length;g>f;f++)a=e[f],d[a]=a in this.attrs?this.attrs[a]:b.is(this.paper.customAttributes[a],"function")?this.paper.customAttributes[a].def:b._availableAttrs[a];return g-1?d:d[e[0]]}if(this.attrs&&null==c&&b.is(a,"array")){d={};f=0;for(g=a.length;g>f;f++)d[a[f]]=this.attr(a[f]);return d}null!=c&&(d={},d[a]=c);null==c&&b.is(a,"object")&&(d=a);for(f in d)n("raphael.attr."+f+"."+this.id,this,
d[f]);if(d){for(f in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(f)&&d.hasOwnProperty(f)&&b.is(this.paper.customAttributes[f],"function"))for(g in e=this.paper.customAttributes[f].apply(this,[].concat(d[f])),this.attrs[f]=d[f],e)e.hasOwnProperty(g)&&(d[g]=e[g]);d.text&&"text"==this.type&&(this.textpath.string=d.text);x(this,d)}return this};E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&b._tofront(this,
this.paper),this};E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),b._toback(this,this.paper)),this)};E.insertAfter=function(a){return this.removed?this:(a.constructor==b.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),b._insertafter(this,a,this.paper),this)};E.insertBefore=
function(a){return this.removed?this:(a.constructor==b.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),b._insertbefore(this,a,this.paper),this)};E.blur=function(a){var c=this.node.runtimeStyle,d=c.filter;return d=d.replace(r,""),0!==+a?(this.attrs.blur=a,c.filter=d+"  progid:DXImageTransform.Microsoft.Blur(pixelradius\x3d"+(+a||1.5)+")",c.margin=b.format("-{0}px 0 0 -{0}px",e(+a||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur),this};b._engine.path=function(a,b){var c=
G("shape");c.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";c.coordsize="21600 21600";c.coordorigin=b.coordorigin;var d=new J(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a);d.type="path";d.path=[];d.Path="";x(d,e);b.canvas.appendChild(c);e=G("skew");return e.on=!0,c.appendChild(e),d.skew=e,d.transform(""),d};b._engine.rect=function(a,c,d,e,f,g){var h=b._rectPath(c,d,e,f,g);a=a.path(h);var k=a.attrs;return a.X=k.x=c,a.Y=k.y=d,a.W=k.width=e,a.H=k.height=f,k.r=g,k.path=h,a.type=
"rect",a};b._engine.ellipse=function(a,b,c,d,e){a=a.path();return a.attrs,a.X=b-d,a.Y=c-e,a.W=2*d,a.H=2*e,a.type="ellipse",x(a,{cx:b,cy:c,rx:d,ry:e}),a};b._engine.circle=function(a,b,c,d){a=a.path();return a.attrs,a.X=b-d,a.Y=c-d,a.W=a.H=2*d,a.type="circle",x(a,{cx:b,cy:c,r:d}),a};b._engine.image=function(a,c,d,e,f,g){var h=b._rectPath(d,e,f,g);a=a.path(h).attr({stroke:"none"});var k=a.attrs,m=a.node,l=m.getElementsByTagName("fill")[0];return k.src=c,a.X=k.x=d,a.Y=k.y=e,a.W=k.width=f,a.H=k.height=
g,k.path=h,a.type="image",l.parentNode==m&&m.removeChild(l),l.rotate=!0,l.src=c,l.type="tile",a._.fillpos=[d,e],a._.fillsize=[f,g],m.appendChild(l),u(a,1,1,0,0,0),a};b._engine.text=function(c,d,g,h){var k=G("shape"),l=G("path"),n=G("textpath");d=d||0;g=g||0;h=h||"";l.v=b.format("m{0},{1}l{2},{1}",e(21600*d),e(21600*g),e(21600*d)+1);l.textpathok=!0;n.string=a(h);n.on=!0;k.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";k.coordsize="21600 21600";k.coordorigin="0 0";var p=new J(k,
c),q={fill:"#000",stroke:"none",font:b._availableAttrs.font,text:h};p.shape=k;p.path=l;p.textpath=n;p.type="text";p.attrs.text=a(h);p.attrs.x=d;p.attrs.y=g;p.attrs.w=1;p.attrs.h=1;x(p,q);k.appendChild(n);k.appendChild(l);c.canvas.appendChild(k);c=G("skew");return c.on=!0,k.appendChild(c),p.skew=c,p.transform(""),p};b._engine.setSize=function(a,c){var d=this.canvas.style;return this.width=a,this.height=c,a==+a&&(a+="px"),c==+c&&(c+="px"),d.width=a,d.height=c,d.clip="rect(0 "+a+" "+c+" 0)",this._viewBox&&
b._engine.setViewBox.apply(this,this._viewBox),this};b._engine.setViewBox=function(a,c,d,e,f){b.eve("raphael.setViewBox",this,this._viewBox,[a,c,d,e,f]);var g,k,l=this.width,m=this.height,n=1/h(d/l,e/m);return f&&(g=m/e,k=l/d,l>d*g&&(a-=(l-d*g)/2/g),m>e*k&&(c-=(m-e*k)/2/k)),this._viewBox=[a,c,d,e,!!f],this._viewBoxShift={dx:-a,dy:-c,scale:n},this.forEach(function(a){a.transform("...")}),this};var G;b._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");
try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),G=function(a){return b.createElement("\x3crvml:"+a+' class\x3d"rvml"\x3e')}}catch(c){G=function(a){return b.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"rvml"\x3e')}}};b._engine.initWin(b._g.win);b._engine.create=function(){var a=b._getContainer.apply(0,arguments),c=a.container,d=a.height,e=a.width,f=a.x,a=a.y;if(!c)throw Error("VML container not found.");var g=new b._Paper,h=g.canvas=b._g.doc.createElement("div"),
k=h.style;return f=f||0,a=a||0,e=e||512,d=d||342,g.width=e,g.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),g.coordsize="21600000 21600000",g.coordorigin="0 0",g.span=b._g.doc.createElement("span"),g.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",h.appendChild(g.span),k.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==c?(b._g.doc.body.appendChild(h),k.left=f+"px",
k.top=a+"px",k.position="absolute"):c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),g.renderfix=function(){},g};b.prototype.clear=function(){b.eve("raphael.clear",this);this.canvas.innerHTML="";this.span=b._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};b.prototype.remove=function(){b.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);
for(var a in this)this[a]="function"==typeof this[a]?b._removedFactory(a):null;return!0};var M=b.st,Z;for(Z in E)E.hasOwnProperty(Z)&&!M.hasOwnProperty(Z)&&(M[Z]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(Z))}}(),gb?n.win.Raphael=b:Raphael=b,b});namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.AA=Class.extend({init:function(a,c){$.extend(this,a);this.tree=c},getEffectForLevel:function(a){return 1>a||a>this.max_level?null:this.effects[a-1]},remainingLevels:function(){return this.max_level-this.level},hasBackdrop:function(){return-1<this.icon.backdrop},hasParent:function(){return-1<this.parent_id},parent:function(){return-1<this.parent_id?this.tree.aa[this.parent_id]:null},parentSubtreeName:function(){return this.tree.getParentSubtreeName(this.subclass)},prerequisiteHandlers:{global:function(a){var c=
this.tree.getGlobalPointsSpent(),c=c-this.level*this.cost;return c>=a},tree:function(a){var c=this.tree.getTotalPointsSpent(),c=c-this.level*this.cost;return c>=a},parent_subtree:function(a){return this.tree.subtrees[this.tree.getParentSubtreeName(this.subclass)]>=a},subtree:function(a){var c=this.tree.subtrees[this.subclass],c=c-this.level*this.cost;return this.subclass===this.tree.y_subclass?this.tree.calculateDerivedPoints()-c>=a:c>=a},parent:function(a){return this.parent().level>=a}},satisfiesPrerequisites:function(){var a=
!0;if(0===this.level&&this.tree.getAvailablePoints()<this.cost)return!1;Object.iterItems(this.prereqs,function(c,b){return 0===b?!0:a=this.prerequisiteHandlers[c].call(this,b)},this);return a},spendPoints:function(a){if(0===a)return 0;var c=this.level;a=this.level+a;this.level=a=Math.max(0,Math.min(a,this.max_level));c=(a-c)*this.cost;this.tree.notifyPointsSpentInSubtree(this.subclass,c);return c}});namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.Class=Class.extend({init:function(a){$.extend(!0,this,a);this.trees.forEach(function(a,b){this.trees[b]=new Beetny.EQ2AA.Model.Tree(a,this)},this);Object.iterItems(this.points,function(a,b){this.points[a]=b.child_pools?new Beetny.EQ2AA.Model.CompositePointPool(b):new Beetny.EQ2AA.Model.PointPool(b)},this)},getOrderedPointPools:function(){return this.ordered_point_pools.map(function(a){return this.points[a]},this)},getTreePointPool:function(a){return"Warder"===a.type?this.points[a.type].child_pools[a.name.replace(" ",
"")]:this.points[a.type]||this.points.AA},notifyPointsSpentInTree:function(a,c){this.getTreePointPool(a).spent+=c},getAvailablePoints:function(a){a=this.getTreePointPool(a);return a.max-a.spent},reset:function(){this.trees.forEach(function(a){a.reset()})},loadHash:function(a){for(var c=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken);-1!==c;){var b=a.slice(c),d=parseInt(b.charAt(1),36);(d=this.trees[d])&&d.loadHash(b.slice(2));c=a.indexOf(Beetny.EQ2AA.Model.Tree.TreeHashToken,c+1)}return{success:!0,
errorMessage:""}},createHash:function(){var a="";if(0===Object.size(this.trees))return a;a+=this.id.toString(36);return a+=this.trees.reduce(function(a,b){return a+b.createHash()},"")}});namespace("Beetny.EQ2AA.Model");Beetny.EQ2AA.Model.PointPool=Class.extend({init:function(a){$.extend(this,a);this.spent=0},type:function(){return this.name.replace(" ","")},html:function(){return'\x3cli\x3e\x3clabel class\x3d"{Type}"\x3e{Label}:\x3cspan class\x3d"spent"\x3e{NumSpent}\x3c/span\x3e/\x3cspan class\x3d"max"\x3e{Max}\x3c/span\x3e\x3c/label\x3e\x3c/li\x3e'.replace("{Type}",this.type()).replace("{Label}",this.name).replace("{NumSpent}",this.spent).replace("{Max}",this.max)}});
Beetny.EQ2AA.Model.CompositePointPool=Class.extend({init:function(a){$.extend(this,a);Object.iterItems(this.child_pools,function(a,b){this.child_pools[a]=new Beetny.EQ2AA.Model.PointPool(b)},this)},type:function(){return this.name.replace(" ","")},orderedChildPools:function(){return Object.keys(this.child_pools).sort().map(function(a){return this.child_pools[a]},this)},html:function(){var a="\x3cli\x3e\x3cul\x3e\x3clabel\x3e{Name}:\x3c/label\x3e".replace("{Name}",this.name),a=a+this.orderedChildPools().reduce(function(a,
b){return a+b.html()},"");return a+"\x3c/ul\x3e\x3c/li\x3e"}});namespace("Beetny.EQ2AA.Model");
Beetny.EQ2AA.Model.Tree=Class.extend({init:function(a,c){$.extend(this,a);this.parentClass=c;this.aa.forEach(function(a,c){this.aa[c]=new Beetny.EQ2AA.Model.AA(a,this)},this)},getGlobalPointsSpent:function(){return this.parentClass.points.AA.spent},getParentSubtreeName:function(a){switch(a){case this.parentClass.name:return this.parentClass.lineage.archetype;case this.parentClass.lineage.archetype:return this.parentClass.lineage.family;case this.parentClass.lineage.family:return"General"}return null},getTotalPointsSpent:function(){return Object.values(this.subtrees).reduce(function(a,
c){return a+c},0)},getAvailablePoints:function(){var a=this.parentClass.getAvailablePoints(this),c=this.max_points-this.getTotalPointsSpent();return Math.min(c,a)},spendPoints:function(a,c){var b=0;0<c?(c=Math.min(c,Math.floor(this.getAvailablePoints()/a.cost)),b=a.spendPoints(c)):0>c&&(b=a.spendPoints(c),this.reclaimIllegalPoints());return b},notifyPointsSpentInSubtree:function(a,c){this.subtrees[a]+=c;this.parentClass.notifyPointsSpentInTree(this,c)},reclaimIllegalPoints:function(){function a(a){if(0<
a.level&&!a.satisfiesPrerequisites()){var c=-a.level*a.cost;a.level=0;this.notifyPointsSpentInSubtree(a.subclass,c)}}var c=[];this.aa.forEach(function(b){var d=this.aa[b.parent_id];d&&a.call(this,d);if(b.subclass===this.y_subclass)return c.push(b),!0;a.call(this,b)},this);c.map(a,this)},calculateDerivedPoints:function(){var a=0;0<this.x_y_ratio&&(a=Math.floor(this.subtrees[this.x_subclass]/this.x_y_ratio));return a},reset:function(){this.aa.forEach(function(a){a.level=0});var a=this.getTotalPointsSpent();
Object.keys(this.subtrees).forEach(function(a){this.subtrees[a]=0},this);this.parentClass.notifyPointsSpentInTree(this,-a)},createHash:function(){var a="";if(0===this.aa.length||0===this.getTotalPointsSpent())return a;var a=a+(Beetny.EQ2AA.Model.Tree.TreeHashToken+this.id.toString(36)),c=this.aa.map(function(a){return a.level.toString(36)}).collateAdjacentDuplicates();-1<c[c.length-1].indexOf("0")&&c.pop();for(var b=0;b<c.length;++b){var d=c[b].charAt(0);3<=c[b].length&&(c[b]=d+Beetny.EQ2AA.Model.Tree.RepeatHashToken+
c[b].length.toString(36))}return a+=c.join("")},loadHash:function(a){for(var c=0;0<a.length&&a.charAt(0)!==Beetny.EQ2AA.Model.Tree.TreeHashToken;){var b=parseInt(a.charAt(0),36),d=0,e;a.charAt(1)===Beetny.EQ2AA.Model.Tree.RepeatHashToken?(d=parseInt(a.charAt(2),36),e=3):d=e=1;for(var h=0;h<d;++h,++c){var g=this.aa[c];g&&(g.level=b,this.notifyPointsSpentInSubtree(g.subclass,g.level*g.cost))}a=a.slice(e)}}});Beetny.EQ2AA.Model.Tree.TreeHashToken="t";Beetny.EQ2AA.Model.Tree.RepeatHashToken="@";namespace("Beetny.EQ2AA");
Beetny.EQ2AA.AATreeViewer=Class.extend({init:function(a,c){this.class_=a;this._renderer=c;this.activeTree=null;this._compositeTreesSelectedIndex={}},_template:'\x3cdiv class\x3d"tree-viewer {ClassName}"\x3e\x3cul class\x3d"tabs"\x3e\x3c/ul\x3e\x3cdiv class\x3d"trees"\x3e\x3c/div\x3e\x3c/div\x3e',getElement:function(){return this._element},render:function(a){var c=this,b=this._template.replace("{ClassName}",this.class_.name),d=$(b).on({TreeTabClick:function(a,b){b.length?c.selectCompositeTree(b):c.selectTree(b);
return!1},ChildTreeSelected:function(a,b,d){c.selectCompositeTreeChild(b,d);return!1},AAClick:function(a,b,d){c.spendPoints(b,d?Infinity:1);return!1},AARightClick:function(a,b,d){c.spendPoints(b,d?-Infinity:-1);return!1},AAMouseEnter:function(a,b){c.showTooltip(b);return!1},AAMouseLeave:function(a,b){c.hideTooltip();return!1}}).data("viewer",this);(function(){for(var a=$(".tabs",d),b=Beetny.EQ2AA.Constants.TreeIdTabOrder.length,g=0;g<b;g++){var p=c.class_.trees[Beetny.EQ2AA.Constants.TreeIdTabOrder[g]];
a.append(c._renderer.renderTreeTab(p.type,p.name,p))}"Beastlord"===c.class_.name&&(b=c.class_.trees.slice(b),a.append(c._renderer.renderTreeTab("Warder","Warder",b)))})();this._renderer.replacePointTotals(this.class_);d.appendTo(a);return this._element=d},selectTree:function(a){var c=this._getTreeElement(a.type);0===c.length&&(c=this._renderer.renderTree(a,[a.type]),$(".trees",this._element).append(c));this._setActiveTab(a.type);this._setActiveTree(a,c);this._renderer.refreshTree(a)},selectCompositeTree:function(a){var c=
a[0].type,b=this._getSelectedCompositeChildIndex(a,c),d=this._getTreeElement(c);0===d.length&&(d=this._renderer.renderCompositeTree(a,b,[c]),$(".trees",this._element).append(d));this._setActiveTab(c);this.selectCompositeTreeChild(a[b],b)},_getSelectedCompositeChildIndex:function(a,c){var b=this._compositeTreesSelectedIndex[c];null==b&&a.forEach(function(a,c){if(0<a.getTotalPointsSpent())return b=c,!1});return b||0},selectCompositeTreeChild:function(a,c){var b=a.type,d=a.name.replace(" ",""),e=this._getTreeElement(b),
h=$(".tree."+b+"."+d,e);0===h.length&&(h=this._renderer.renderTree(a,[b,d]),e.append(h));this._removeActiveTrees(e);this._setActiveChildTree(a,h);this._renderer.refreshTree(a);this._compositeTreesSelectedIndex[b]=c},_setActiveChildTree:function(a,c){this._setActiveTree(a,c);c.parent().addClass("active")},_setActiveTree:function(a,c){this.activeTree=a;c.addClass("active")},_setActiveTab:function(a){$(".tab.active",this._element).removeClass("active");$(".tab."+a,this._element).addClass("active");this._removeActiveTrees()},
_removeActiveTrees:function(a){a=a||this._element;$(".tree.active",a).removeClass("active")},_changeActiveTab:function(a,c){this._setActiveTab(a.type);c.addClass("active");this.activeTree=a},_getTreeElement:function(a){return $(".trees \x3e .tree."+a,this._element)},spendPoints:function(a,c){a.tree.spendPoints(a,c);this._renderer.refreshTree(a.tree);this._renderer.updatePointTotals(this.class_);this.updateHash();Beetny.EQ2AA.Tooltips.createOrUpdateAATooltips(a)},updateHash:function(){var a=this._getFullHash();
0===window.location.search.length&&(window.location.hash=a);a=window.location.protocol+"//"+window.location.hostname+window.location.pathname+"#"+a;$("#commands .command.export a").prop("href",a)},_getFullHash:function(){return Beetny.EQ2AA.GameVersions.LatestUpdate+";"+this.class_.createHash()},showTooltip:function(a){var c=Beetny.EQ2AA.Tooltips.createOrUpdateAATooltips(a),b=$(c[0]).height(),d=a.coords[0]+Beetny.EQ2AA.Rendering.ICON_SIZE+10-window.scrollX;a=a.coords[1]-b-window.scrollY;b=$(".tree.active",
this._element).closest(".tree-viewer").offset();Beetny.EQ2AA.Tooltips.showTooltip(b.left+d,b.top+a,c)},hideTooltip:function(){Beetny.EQ2AA.Tooltips.hideTooltip()},refresh:function(){this._renderer.refreshTree(this.activeTree);this._renderer.updatePointTotals(this.class_)},fullRefresh:function(){this._renderer.refreshTree(this.activeTree);this._renderer.replacePointTotals(this.class_)},resetClass:function(){this.class_.reset();this.refresh()},resetActiveTree:function(){this.activeTree.reset();this.refresh()},
printClass:function(){var a=window.open("print.php?build\x3d{Hash}".replace("{Hash}",this._getFullHash()),"newWindow","height\x3d800,width\x3d600");a.focus&&a.focus()}});namespace("Beetny.EQ2AA");Beetny.EQ2AA.AATreeViewerCommand=Class.extend({init:function(a,c,b){this.id=a;this.name=c;this.description=b},render:function(){var a='\x3cli class\x3d"command {commandId}" title\x3d"{Title}"\x3e\x3ca href\x3d"javascript:;"\x3e{Name}\x3c/a\x3e\x3c/li\x3e'.replace("{commandId}",this.id).replace("{Title}",this.description).replace("{Name}",this.name);return $(a)},execute:function(a){}});
Beetny.EQ2AA.ResetAllCommand=Beetny.EQ2AA.AATreeViewerCommand.extend({init:function(){this._super("resetAll","Reset All","Resets all trees in the current class.")},execute:function(a){a.resetClass()}});Beetny.EQ2AA.ResetTreeCommand=Beetny.EQ2AA.AATreeViewerCommand.extend({init:function(){this._super("resetTree","Reset Tree","Resets the currently selected tree.")},execute:function(a){a.resetActiveTree()}});
Beetny.EQ2AA.ExportCommand=Beetny.EQ2AA.AATreeViewerCommand.extend({init:function(){this._super("export","Export","Creates a link to the current build.")},render:function(){var a=this._super();$("a",a).attr("target","_blank");return a}});Beetny.EQ2AA.PrintCommand=Beetny.EQ2AA.AATreeViewerCommand.extend({init:function(){this._super("print","Print","Creates a text summary suitable for printing.")},render:function(){var a=this._super();$("a",a).attr("target","_blank");return a},execute:function(a){a.printClass()}});
Beetny.EQ2AA.AATreeViewerCommands=[new Beetny.EQ2AA.ResetAllCommand,new Beetny.EQ2AA.ResetTreeCommand,new Beetny.EQ2AA.ExportCommand,new Beetny.EQ2AA.PrintCommand];namespace("Beetny.EQ2AA.Rendering");Beetny.EQ2AA.Rendering.ICON_SIZE=42;
Beetny.EQ2AA.Rendering.ElementBuilder=Class.extend({buildTab:function(a,c){var b='\x3cli class\x3d"tab {Class}"\x3e{Label}\x3c/li\x3e'.replace("{Class}",a).replace("{Label}",c);return $(b)},buildShadowsArrowsAndRequirements:function(){function a(a,d,e){return c._buildSpan("no-select shadows-"+a+" req"+d,e||"")}var c=this;return $(a("labels requirements",60,"Requires 60 points spent.")).add(a("labels requirements",120,"Requires 120 points spent.")).add(a("labels requirements",170,"Requires 170 points spent.")).add(a("arrows",
60)).add(a("arrows",120)).add(a("arrows",170))},buildShadowsSubtreeLabels:function(a){var c=this._buildSpan("no-select shadows-labels subtree General","General"),b=this._buildSpan("no-select shadows-labels subtree Family",a.lineage.family),d=this._buildSpan("no-select shadows-labels subtree Archetype",a.lineage.archetype);a=this._buildSpan("no-select shadows-labels subtree Class",a.name);return $(c).add(b).add(d).add(a)},_buildSpan:function(a,c){return'\x3cspan class\x3d"{Class}"\x3e{Text}\x3c/span\x3e'.replace("{Class}",
a).replace("{Text}",c)},buildLevelNumber:function(){return $('\x3cspan class\x3d"no-select aa-level"\x3e\x3c/span\x3e')},buildTreeFooter:function(){return $('\x3cspan class\x3d"no-select footer"\x3e\x3c/span\x3e')},buildPointTotals:function(a){a='\x3cfieldset class\x3d"totals"\x3e\x3clegend\x3ePoints Spent\x3c/legend\x3e\x3cul\x3e'+a.getOrderedPointPools().reduce(function(a,b){return a+b.html()},"");a+="\x3c/ul\x3e\x3c/fieldset\x3e";return $(a)},buildAAIcon:function(a){return $('\x3cspan class\x3d"no-select icon"\x3e\x3c/span\x3e').css({left:a.coords[0],
top:a.coords[1]})}});namespace("Beetny.EQ2AA.Rendering");
Beetny.EQ2AA.Rendering.RaphaelRenderer=Class.extend({createCanvas:function(a,c,b){return Raphael(a,c,b)},updateAAColor:function(a,c){var b,d;switch(a.level){case 0:b="#FFFFFF";d="none";break;case a.max_level:b="#339933";d="#336600";break;default:b="#ffff00",d="#999900"}c.aaCircle.attr("stroke",b);c.levelCircle.attr({stroke:b,fill:d});a.hasParent()&&c.parentLine.attr("stroke",0<a.level?"#339933":"#666666")},updateAAVisibility:function(a,c){a.satisfiesPrerequisites()?(c.levelCircle.show(),c.levelNumber.show()):
(c.levelCircle.hide(),c.levelNumber.hide())},renderAAComponents:function(a,c){var b=Beetny.EQ2AA.Rendering.ICON_SIZE,d=c.tree;return{aaCircle:function(){var d=b/2;return a.circle(c.coords[0]+d,c.coords[1]+d,d).attr("stroke-width",4).toFront()}(),levelCircle:a.circle(c.coords[0]+b+5,c.coords[1]+b+4,11).attr("stroke-width",2).hide().toBack(),parentLine:function(){var e=null;-1<c.parent_id&&(e=d.aa[c.parent_id],e=a.path("M"+(c.coords[0]+b/2)+" "+(c.coords[1]+b/2)+"L"+(e.coords[0]+b/2)+" "+(e.coords[1]+
b/2)).attr("stroke-width",3).toBack());return e}()}}});namespace("Beetny.EQ2AA.Rendering");
Beetny.EQ2AA.Rendering.Renderer=Class.extend({init:function(a,c){this._graphicsRenderer=a;this._elementBuilder=c;this._renderCache={}},renderTreeTab:function(a,c,b){return this._renderTab(a,c,function(){$(this).trigger("TreeTabClick",[b])})},_renderTab:function(a,c,b){a=this._elementBuilder.buildTab(a,c);a.on("click",b);return a},_getCachedComponents:function(a){this._renderCache[a]||(this._renderCache[a]={});return this._renderCache[a]},renderCompositeTree:function(a,c,b){b=$(this._treeTemplate.replace("{Classes}",
b.join(" ")));var d=$('\x3cselect class\x3d"tree-dropdown"\x3e\x3c/select\x3e').appendTo(b);a.forEach(function(a,b){var g=$('\x3coption value\x3d"{TreeName}"\x3e{TreeName}\x3c/option\x3e'.replace(/{TreeName}/g,a.name));b===c&&g.prop("selected","true");g.appendTo(d)});d.on("change",function(){var b=$("option:selected",this).index(),c=a[b];$(this).trigger("ChildTreeSelected",[c,b])});return b},_treeTemplate:'\x3cdiv class\x3d"tree {Classes}"\x3e\x3c/div\x3e',renderTree:function(a,c){c=c||[];var b=this._getCachedComponents(a.soe_id);
if(b.element)return b.element;var d=this,e=this._treeTemplate.replace("{Classes}",c.join(" ")),h=$(e);$.browser.msie&&8==$.browser.version&&h.append('\x3cimg width\x3d"660" height\x3d"500" src\x3d"css/images/tree-background.gif"/\x3e');var g=this._graphicsRenderer.createCanvas(h[0],640,480),e=function(){var b=$();switch(a.type){case "Shadows":b=b.add(d._elementBuilder.buildShadowsArrowsAndRequirements()).add(d._elementBuilder.buildShadowsSubtreeLabels(a.parentClass))}return b}().appendTo(h),p=this._elementBuilder.buildTreeFooter().appendTo(h);
$.extend(b,{canvas:g,element:h,footer:p,aa:{},treeSpecificElements:e});a.aa.forEach(function(a){a=d.renderAA(a,g);h.append(a.container)});$(".no-select",h).disableSelection();return h},renderAA:function(a,c){var b=this._getCachedComponents(a.soe_id),d=this._elementBuilder.buildAAIcon(a),e=this._elementBuilder.buildLevelNumber(a),h=this._graphicsRenderer.renderAAComponents(c,a);(function(){$(d).on({click:function(b){$(this).trigger("AAClick",[a,b.shiftKey||b.ctrlKey||b.altKey]);return!1},contextmenu:function(b){$(this).trigger("AARightClick",
[a,b.shiftKey||b.ctrlKey||b.altKey]);return!1},mouseenter:function(b){$(this).trigger("AAMouseEnter",[a]);return!1},mouseleave:function(b){$(this).trigger("AAMouseLeave",[a]);return!1}})})();var g={container:function(){var b=$('\x3cspan class\x3d"aa id{Id}"\x3e\x3c/span\x3e'.replace("{Id}",a.id));b.append(d,e);return b}(),levelNumber:e};$.extend(g,h);$.extend(b,g);return g},refreshAA:function(a){var c=this._getCachedComponents(a.soe_id),b=10<=a.level?38:42;c.levelNumber.text(a.level).css({left:a.coords[0]+
b,top:a.coords[1]+38});this._graphicsRenderer.updateAAColor(a,c);this._graphicsRenderer.updateAAVisibility(a,c)},replacePointTotals:function(a){$("#points-spent .totals").remove();$("#points-spent").append(this._elementBuilder.buildPointTotals(a))},updatePointTotals:function(a){function c(a,c){$("#points-spent .{Type} .spent".replace("{Type}",c.type())).text(c.spent)}Object.iterItems(a.points,function(a,d){d instanceof Beetny.EQ2AA.Model.CompositePointPool?Object.iterItems(d.child_pools,c):c(a,d)})},
refreshTree:function(a){var c=this._getCachedComponents(a.soe_id);(function(){switch(a.type){case "Shadows":var b=$(".shadows-labels.req60",c.element).hide(),d=$(".shadows-labels.req120",c.element).hide(),e=$(".shadows-labels.req170",c.element).hide(),h=a.getGlobalPointsSpent();60>h?(b.show(),d.show(),e.show()):120>h?(d.show(),e.show()):170>h&&e.show()}})();c.footer.text("Points spent in {Name} Advancements: {Points}/{Max}".replace("{Name}",a.name).replace("{Points}",a.getTotalPointsSpent()).replace("{Max}",
a.max_points));a.aa.forEach(function(a){this.refreshAA(a)},this)}});namespace("Beetny.EQ2AA.Tooltips");
Beetny.EQ2AA.Tooltips={showTooltip:function(a,c,b,d){d=d||"body";var e=$("#tooltip-container");0===e.length&&(e=$('\x3cdiv id\x3d"tooltip-container"\x3e\x3c/div\x3e').appendTo(d));e.empty().append(b).css({left:a,top:c}).show()},hideTooltip:function(){$("#tooltip-container").empty().hide()},createOrUpdateAATooltips:function(a,c){function b(){return $('\x3cdiv class\x3d"aa-tooltip"\x3e\x3cdiv class\x3d"header"\x3e\x3cspan class\x3d"name"\x3e\x3c/span\x3e\x3cspan class\x3d"rank"\x3e\x3c/span\x3e\x3cbr\x3e\x3cspan class\x3d"subclass"\x3e\x3c/span\x3e\x3cspan class\x3d"cost"\x3e\x3c/span\x3e\x3cbr\x3e\x3cspan class\x3d"prereqs"\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"description"\x3e\x3c/div\x3e\x3cdiv class\x3d"effects"\x3e\x3cspan\x3e\x3c/span\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e')}function d(b,
c){function d(){function b(c){var d={global:"Requires {0} points spent globally.",tree:"Requires {0} points spent in the {1} tree.",subtree:"Requires {0} points spent in {1}",parent_subtree:"Requires {0} points spent in {1}",parent:"Requires {0} (Rank {1})"},e="";if(0<a.prereqs[c]){e=[];switch(c){case "global":e.push(a.prereqs[c]);break;case "tree":e.push(a.prereqs[c]);e.push(a.tree.name);break;case "subtree":e.push(a.prereqs[c]);e.push(a.subclass);break;case "parent_subtree":e.push(a.prereqs[c]);
e.push(a.parentSubtreeName());break;case "parent":e.push(a.parent().name),e.push(a.prereqs[c])}e="\x3cli\x3e"+d[c].replace("{0}",e[0]).replace("{1}",e[1])+"\x3c/li\x3e"}return e}var c="\x3cul\x3e";a.satisfiesPrerequisites()||(c+=b("parent"),c+=b("subtree"),c+=b("parent_subtree"),c+=0<a.tree.x_y_ratio?"\x3cli\x3e"+"Every {Ratio} points in {x} unlocks 1 point in {y}".replace("{Ratio}",a.tree.x_y_ratio).replace("{x}",a.tree.x_subclass).replace("{y}",a.tree.y_subclass)+"\x3c/li\x3e":"",c+=b("tree"),c+=
b("global"));0===a.level&&(c+=0<a.title.length?"\x3cli\x3e"+'Grants the prefix title "{Title}" with {Cost} {Points} spent'.replace("{Title}",a.title).replace("{Cost}",a.cost).replace("{Points}",1<a.cost?"points":"point")+"\x3c/li\x3e":"");return c+"\x3c/ul\x3e"}if(0!==b.length){var p="",fa="";0<a.effects.length&&(p="Effects:",fa=a.getEffectForLevel(0===c?c+1:c));var ga="";c<a.max_level&&(ga=a.cost+" "+(1<a.cost?"points":"point"));$(".header .name",b).text(a.name);$(".header .rank",b).text("Rank ("+
c+"/"+a.max_level+")");$(".header .subclass",b).text(a.subclass);$(".header .cost",b).text(ga).toggleClass("spent",0<a.level);$(".header .prereqs",b).html(d());$(".description",b).text(a.description);$(".effects \x3e span",b).text(p);$(".effects \x3e div",b).html(fa)}}c=c||$(".aa-tooltip","#tooltip-container");0===c.length&&(c=c.add(b()).appendTo("#tooltip-container"));1===c.length&&(0<a.level&&0<a.remainingLevels())&&(c=c.add(b()).appendTo("#tooltip-container"));2!==c.length||0!==a.level&&0!==a.remainingLevels()||
(c.eq(1).remove(),c=c.eq(0));d(c.eq(0),a.level);d(c.eq(1),a.level+1);return c}};